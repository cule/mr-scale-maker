var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(t,e,n,r){if(t){const i=l(t,e,n,r);return t[0](i)}}function l(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function c(t,e,n,r,i,a,o){const s=function(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|i[r];return t}return e.dirty|i}return e.dirty}(e,r,i,a);if(s){const i=l(e,n,r,o);t.p(i,s)}}function f(t){return null==t?"":t}function u(t,e,n=e){return t.set(n),e}function h(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function m(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function b(t){return document.createTextNode(t)}function y(){return b(" ")}function w(){return b("")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function M(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function k(t,e){for(let n=0;n<t.options.length;n+=1){const r=t.options[n];if(r.__value===e)return void(r.selected=!0)}}function W(t,e,n){t.classList[n?"add":"remove"](e)}let E;function S(t){E=t}function A(t){(function(){if(!E)throw new Error("Function called outside component initialization");return E})().$$.on_mount.push(t)}const N=[],C=[],R=[],T=[],j=Promise.resolve();let q=!1;function z(t){R.push(t)}let P=!1;const O=new Set;function I(){if(!P){P=!0;do{for(let t=0;t<N.length;t+=1){const e=N[t];S(e),D(e.$$)}for(S(null),N.length=0;C.length;)C.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];O.has(e)||(O.add(e),e())}R.length=0}while(N.length);for(;T.length;)T.pop()();q=!1,P=!1,O.clear()}}function D(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}const U=new Set;let F;function B(){F={r:0,c:[],p:F}}function H(){F.r||r(F.c),F=F.p}function V(t,e){t&&t.i&&(U.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(U.has(t))return;U.add(t),F.c.push((()=>{U.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function K(t){t&&t.c()}function Y(t,n,a){const{fragment:o,on_mount:s,on_destroy:l,after_update:c}=t.$$;o&&o.m(n,a),z((()=>{const n=s.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(z)}function Z(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(t,e){-1===t.$$.dirty[0]&&(N.push(t),q||(q=!0,j.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(e,i,a,o,s,l,c=[-1]){const f=E;S(e);const u=i.props||{},h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let d=!1;if(h.ctx=a?a(e,u,((t,n,...r)=>{const i=r.length?r[0]:n;return h.ctx&&s(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&Q(e,t)),n})):[],h.update(),d=!0,r(h.before_update),h.fragment=!!o&&o(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(p)}else h.fragment&&h.fragment.c();i.intro&&V(e.$$.fragment),Y(e,i.target,i.anchor),I()}S(f)}class J{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function tt(t){let e,n,r,i,a,o,l;const u=t[3].default,g=s(u,t,t[2],null);return{c(){e=v("div"),n=v("div"),r=b(t[0]),a=y(),o=v("h3"),g&&g.c(),L(n,"class",i=f(["step-number",t[1]?"step-enabled":"step-disabled"].join(" "))+" svelte-1ci4m3s"),L(o,"class","svelte-1ci4m3s"),L(e,"class","step-header svelte-1ci4m3s")},m(t,i){d(t,e,i),h(e,n),h(n,r),h(e,a),h(e,o),g&&g.m(o,null),l=!0},p(t,[e]){(!l||1&e)&&M(r,t[0]),(!l||2&e&&i!==(i=f(["step-number",t[1]?"step-enabled":"step-disabled"].join(" "))+" svelte-1ci4m3s"))&&L(n,"class",i),g&&g.p&&4&e&&c(g,u,t,t[2],e,null,null)},i(t){l||(V(g,t),l=!0)},o(t){G(g,t),l=!1},d(t){t&&p(e),g&&g.d(t)}}}function et(t,e,n){let{$$slots:r={},$$scope:i}=e,{step:a}=e,{enabled:o=!0}=e;return t.$$set=t=>{"step"in t&&n(0,a=t.step),"enabled"in t&&n(1,o=t.enabled),"$$scope"in t&&n(2,i=t.$$scope)},[a,o,i,r]}class nt extends J{constructor(t){super(),X(this,t,et,tt,a,{step:0,enabled:1})}}var rt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function it(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var at=it((function(t,e){
/* @license
    Papa Parse
    v5.3.0
    https://github.com/mholt/PapaParse
    License: MIT
    */
t.exports=function t(){var e="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},n=!e.document&&!!e.postMessage,r=n&&/blob:/i.test((e.location||{}).protocol),i={},a=0,o={parse:function(n,r){var s=(r=r||{}).dynamicTyping||!1;if(_(s)&&(r.dynamicTypingFunction=s,s={}),r.dynamicTyping=s,r.transform=!!_(r.transform)&&r.transform,r.worker&&o.WORKERS_SUPPORTED){var l=function(){if(!o.WORKERS_SUPPORTED)return!1;var n,r,s=(n=e.URL||e.webkitURL||null,r=t.toString(),o.BLOB_URL||(o.BLOB_URL=n.createObjectURL(new Blob(["(",r,")();"],{type:"text/javascript"})))),l=new e.Worker(s);return l.onmessage=v,l.id=a++,i[l.id]=l}();return l.userStep=r.step,l.userChunk=r.chunk,l.userComplete=r.complete,l.userError=r.error,r.step=_(r.step),r.chunk=_(r.chunk),r.complete=_(r.complete),r.error=_(r.error),delete r.worker,void l.postMessage({input:n,config:r,workerId:l.id})}var d=null;return"string"==typeof n?d=r.download?new c(r):new u(r):!0===n.readable&&_(n.read)&&_(n.on)?d=new h(r):(e.File&&n instanceof File||n instanceof Object)&&(d=new f(r)),d.stream(n)},unparse:function(t,e){var n=!1,r=!0,i=",",a="\r\n",s='"',l=s+s,c=!1,f=null,u=!1;!function(){if("object"==typeof e){if("string"!=typeof e.delimiter||o.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(i=e.delimiter),("boolean"==typeof e.quotes||"function"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(c=e.skipEmptyLines),"string"==typeof e.newline&&(a=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(r=e.header),Array.isArray(e.columns)){if(0===e.columns.length)throw new Error("Option columns is empty");f=e.columns}void 0!==e.escapeChar&&(l=e.escapeChar+s),"boolean"==typeof e.escapeFormulae&&(u=e.escapeFormulae)}}();var h=new RegExp(p(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return g(null,t,c);if("object"==typeof t[0])return g(f||d(t[0]),t,c)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:d(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),g(t.fields||[],t.data||[],c);throw new Error("Unable to serialize unrecognized input");function d(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function g(t,e,n){var o="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var s=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(s&&r){for(var c=0;c<t.length;c++)0<c&&(o+=i),o+=v(t[c],c);0<e.length&&(o+=a)}for(var f=0;f<e.length;f++){var u=s?t.length:e[f].length,h=!1,d=s?0===Object.keys(e[f]).length:0===e[f].length;if(n&&!s&&(h="greedy"===n?""===e[f].join("").trim():1===e[f].length&&0===e[f][0].length),"greedy"===n&&s){for(var p=[],g=0;g<u;g++){var m=l?t[g]:g;p.push(e[f][m])}h=""===p.join("").trim()}if(!h){for(var b=0;b<u;b++){0<b&&!d&&(o+=i);var y=s&&l?t[b]:b;o+=v(e[f][y],b)}f<e.length-1&&(!n||0<u&&!d)&&(o+=a)}}return o}function v(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);!0===u&&"string"==typeof t&&null!==t.match(/^[=+\-@].*$/)&&(t="'"+t);var r=t.toString().replace(h,l);return"boolean"==typeof n&&n||"function"==typeof n&&n(t,e)||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(r,o.BAD_DELIMITERS)||-1<r.indexOf(i)||" "===r.charAt(0)||" "===r.charAt(r.length-1)?s+r+s:r}}};if(o.RECORD_SEP=String.fromCharCode(30),o.UNIT_SEP=String.fromCharCode(31),o.BYTE_ORDER_MARK="\ufeff",o.BAD_DELIMITERS=["\r","\n",'"',o.BYTE_ORDER_MARK],o.WORKERS_SUPPORTED=!n&&!!e.Worker,o.NODE_STREAM_INPUT=1,o.LocalChunkSize=10485760,o.RemoteChunkSize=5242880,o.DefaultDelimiter=",",o.Parser=g,o.ParserHandle=d,o.NetworkStreamer=c,o.FileStreamer=f,o.StringStreamer=u,o.ReadableStreamStreamer=h,e.jQuery){var s=e.jQuery;s.fn.parse=function(t){var n=t.config||{},r=[];return this.each((function(t){if("INPUT"!==s(this).prop("tagName").toUpperCase()||"file"!==s(this).attr("type").toLowerCase()||!e.FileReader||!this.files||0===this.files.length)return!0;for(var i=0;i<this.files.length;i++)r.push({file:this.files[i],inputElem:this,instanceConfig:s.extend({},n)})})),i(),this;function i(){if(0!==r.length){var e,n,i,l,c=r[0];if(_(t.before)){var f=t.before(c.file,c.inputElem);if("object"==typeof f){if("abort"===f.action)return e="AbortError",n=c.file,i=c.inputElem,l=f.reason,void(_(t.error)&&t.error({name:e},n,i,l));if("skip"===f.action)return void a();"object"==typeof f.config&&(c.instanceConfig=s.extend(c.instanceConfig,f.config))}else if("skip"===f)return void a()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(t){_(u)&&u(t,c.file,c.inputElem),a()},o.parse(c.file,c.instanceConfig)}else _(t.complete)&&t.complete()}function a(){r.splice(0,1),i()}}}function l(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=y(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new d(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+t;this._partialLine="";var s=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=s.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),s&&s.data&&(this._rowCount+=s.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)e.postMessage({results:s,workerId:o.WORKER_ID,finished:c});else if(_(this._config.chunk)&&!n){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!c||!_(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(t){_(this._config.error)?this._config.error(t):r&&this._config.error&&e.postMessage({workerId:o.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=o.RemoteChunkSize),l.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var r in t)e.setRequestHeader(r,t[r])}if(this._config.chunkSize){var i=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+i)}try{e.send(this._config.downloadRequestBody)}catch(t){this._chunkError(t.message)}n&&0===e.status&&this._chunkError()}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substring(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=o.LocalChunkSize),l.call(this,t);var r="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,r?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var i=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,i)}var a=e.readAsText(t,this._config.encoding);r||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function u(t){var e;l.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t,n=this._config.chunkSize;return n?(t=e.substring(0,n),e=e.substring(n)):(t=e,e=""),this._finished=!e,this.parseChunk(t)}}}function h(t){l.call(this,t=t||{});var e=[],n=!0,r=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function d(t){var e,n,r,i=Math.pow(2,53),a=-i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,l=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,c=this,f=0,u=0,h=!1,d=!1,v=[],m={data:[],errors:[],meta:{}};if(_(t.step)){var b=t.step;t.step=function(e){if(m=e,L())x();else{if(x(),0===m.data.length)return;f+=e.data.length,t.preview&&f>t.preview?n.abort():(m.data=m.data[0],b(m,c))}}}function w(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function x(){if(m&&r&&($("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+o.DefaultDelimiter+"'"),r=!1),t.skipEmptyLines)for(var e=0;e<m.data.length;e++)w(m.data[e])&&m.data.splice(e--,1);return L()&&function(){if(m)if(Array.isArray(m.data[0])){for(var e=0;L()&&e<m.data.length;e++)m.data[e].forEach(n);m.data.splice(0,1)}else m.data.forEach(n);function n(e,n){_(t.transformHeader)&&(e=t.transformHeader(e,n)),v.push(e)}}(),function(){if(!m||!t.header&&!t.dynamicTyping&&!t.transform)return m;function e(e,n){var r,i=t.header?{}:[];for(r=0;r<e.length;r++){var a=r,o=e[r];t.header&&(a=r>=v.length?"__parsed_extra":v[r]),t.transform&&(o=t.transform(o,a)),o=M(a,o),"__parsed_extra"===a?(i[a]=i[a]||[],i[a].push(o)):i[a]=o}return t.header&&(r>v.length?$("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+r,u+n):r<v.length&&$("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+r,u+n)),i}var n=1;return!m.data.length||Array.isArray(m.data[0])?(m.data=m.data.map(e),n=m.data.length):m.data=e(m.data,0),t.header&&m.meta&&(m.meta.fields=v),u+=n,m}()}function L(){return t.header&&0===v.length}function M(e,n){return r=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[r]&&(t.dynamicTyping[r]=t.dynamicTypingFunction(r)),!0===(t.dynamicTyping[r]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(function(t){if(s.test(t)){var e=parseFloat(t);if(a<e&&e<i)return!0}return!1}(n)?parseFloat(n):l.test(n)?new Date(n):""===n?null:n):n;var r}function $(t,e,n,r){var i={type:t,code:e,message:n};void 0!==r&&(i.row=r),m.errors.push(i)}this.parse=function(i,a,s){var l=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substring(0,1048576);var n=new RegExp(p(e)+"([^]*?)"+p(e),"gm"),r=(t=t.replace(n,"")).split("\r"),i=t.split("\n"),a=1<i.length&&i[0].length<r[0].length;if(1===r.length||a)return"\n";for(var o=0,s=0;s<r.length;s++)"\n"===r[s][0]&&o++;return o>=r.length/2?"\r\n":"\r"}(i,l)),r=!1,t.delimiter)_(t.delimiter)&&(t.delimiter=t.delimiter(i),m.meta.delimiter=t.delimiter);else{var c=function(e,n,r,i,a){var s,l,c,f;a=a||[",","\t","|",";",o.RECORD_SEP,o.UNIT_SEP];for(var u=0;u<a.length;u++){var h=a[u],d=0,p=0,v=0;c=void 0;for(var m=new g({comments:i,delimiter:h,newline:n,preview:10}).parse(e),b=0;b<m.data.length;b++)if(r&&w(m.data[b]))v++;else{var y=m.data[b].length;p+=y,void 0!==c?0<y&&(d+=Math.abs(y-c),c=y):c=y}0<m.data.length&&(p/=m.data.length-v),(void 0===l||d<=l)&&(void 0===f||f<p)&&1.99<p&&(l=d,s=h,f=p)}return{successful:!!(t.delimiter=s),bestDelimiter:s}}(i,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);c.successful?t.delimiter=c.bestDelimiter:(r=!0,t.delimiter=o.DefaultDelimiter),m.meta.delimiter=t.delimiter}var f=y(t);return t.preview&&t.header&&f.preview++,e=i,n=new g(f),m=n.parse(e,a,s),x(),h?{meta:{paused:!0}}:m||{meta:{paused:!1}}},this.paused=function(){return h},this.pause=function(){h=!0,n.abort(),e=_(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){c.streamer._halted?(h=!1,c.streamer.parseChunk(e,!0)):setTimeout(c.resume,3)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),m.meta.aborted=!0,_(t.complete)&&t.complete(m),e=""}}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(t){var e,n=(t=t||{}).delimiter,r=t.newline,i=t.comments,a=t.step,s=t.preview,l=t.fastMode,c=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(c=t.escapeChar),("string"!=typeof n||-1<o.BAD_DELIMITERS.indexOf(n))&&(n=","),i===n)throw new Error("Comment character same as delimiter");!0===i?i="#":("string"!=typeof i||-1<o.BAD_DELIMITERS.indexOf(i))&&(i=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var f=0,u=!1;this.parse=function(t,o,h){if("string"!=typeof t)throw new Error("Input must be a string");var d=t.length,g=n.length,v=r.length,m=i.length,b=_(a),y=[],w=[],x=[],L=f=0;if(!t)return z();if(l||!1!==l&&-1===t.indexOf(e)){for(var M=t.split(r),$=0;$<M.length;$++){if(x=M[$],f+=x.length,$!==M.length-1)f+=r.length;else if(h)return z();if(!i||x.substring(0,m)!==i){if(b){if(y=[],R(x.split(n)),P(),u)return z()}else R(x.split(n));if(s&&s<=$)return y=y.slice(0,s),z(!0)}}return z()}for(var k=t.indexOf(n,f),W=t.indexOf(r,f),E=new RegExp(p(c)+p(e),"g"),S=t.indexOf(e,f);;)if(t[f]!==e)if(i&&0===x.length&&t.substring(f,f+m)===i){if(-1===W)return z();f=W+v,W=t.indexOf(r,f),k=t.indexOf(n,f)}else{if(-1!==k&&(k<W||-1===W)){if(!(k<S)){x.push(t.substring(f,k)),f=k+g,k=t.indexOf(n,f);continue}var A=O(k,S,W);if(A&&void 0!==A.nextDelim){k=A.nextDelim,S=A.quoteSearch,x.push(t.substring(f,k)),f=k+g,k=t.indexOf(n,f);continue}}if(-1===W)break;if(x.push(t.substring(f,W)),q(W+v),b&&(P(),u))return z();if(s&&y.length>=s)return z(!0)}else for(S=f,f++;;){if(-1===(S=t.indexOf(e,S+1)))return h||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:f}),j();if(S===d-1)return j(t.substring(f,S).replace(E,e));if(e!==c||t[S+1]!==c){if(e===c||0===S||t[S-1]!==c){-1!==k&&k<S+1&&(k=t.indexOf(n,S+1)),-1!==W&&W<S+1&&(W=t.indexOf(r,S+1));var N=T(-1===W?k:Math.min(k,W));if(t[S+1+N]===n){x.push(t.substring(f,S).replace(E,e)),t[f=S+1+N+g]!==e&&(S=t.indexOf(e,f)),k=t.indexOf(n,f),W=t.indexOf(r,f);break}var C=T(W);if(t.substring(S+1+C,S+1+C+v)===r){if(x.push(t.substring(f,S).replace(E,e)),q(S+1+C+v),k=t.indexOf(n,f),S=t.indexOf(e,f),b&&(P(),u))return z();if(s&&y.length>=s)return z(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:f}),S++}}else S++}return j();function R(t){y.push(t),L=f}function T(e){var n=0;if(-1!==e){var r=t.substring(S+1,e);r&&""===r.trim()&&(n=r.length)}return n}function j(e){return h||(void 0===e&&(e=t.substring(f)),x.push(e),f=d,R(x),b&&P()),z()}function q(e){f=e,R(x),x=[],W=t.indexOf(r,f)}function z(t){return{data:y,errors:w,meta:{delimiter:n,linebreak:r,aborted:u,truncated:!!t,cursor:L+(o||0)}}}function P(){a(z()),y=[],w=[]}function O(r,i,a){var o={nextDelim:void 0,quoteSearch:void 0},s=t.indexOf(e,i+1);if(i<r&&r<s&&(s<a||-1===a)){var l=t.indexOf(n,s);if(-1===l)return o;s<l&&(s=t.indexOf(e,s+1)),o=O(l,s,a)}else o={nextDelim:r,quoteSearch:i};return o}},this.abort=function(){u=!0},this.getCharIndex=function(){return f}}function v(t){var e=t.data,n=i[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){r=!0,m(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(_(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:e.results.data[o],errors:e.results.errors,meta:e.results.meta},a),!r);o++);delete e.results}else _(n.userChunk)&&(n.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!r&&m(e.workerId,e.results)}function m(t,e){var n=i[t];_(n.userComplete)&&n.userComplete(e),n.terminate(),delete i[t]}function b(){throw new Error("Not implemented.")}function y(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=y(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function _(t){return"function"==typeof t}return r&&(e.onmessage=function(t){var n=t.data;if(void 0===o.WORKER_ID&&n&&(o.WORKER_ID=n.workerId),"string"==typeof n.input)e.postMessage({workerId:o.WORKER_ID,results:o.parse(n.input,n.config),finished:!0});else if(e.File&&n.input instanceof File||n.input instanceof Object){var r=o.parse(n.input,n.config);r&&e.postMessage({workerId:o.WORKER_ID,results:r,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(f.prototype=Object.create(l.prototype)).constructor=f,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,o}()})),ot={},st={};function lt(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function ct(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ft(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function ut(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+ft(-e,6):e>9999?"+"+ft(e,6):ft(e,4))+"-"+ft(t.getUTCMonth()+1,2)+"-"+ft(t.getUTCDate(),2)+(a?"T"+ft(n,2)+":"+ft(r,2)+":"+ft(i,2)+"."+ft(a,3)+"Z":i?"T"+ft(n,2)+":"+ft(r,2)+":"+ft(i,2)+"Z":r||n?"T"+ft(n,2)+":"+ft(r,2)+"Z":"")}function ht(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],a=t.length,o=0,s=0,l=a<=0,c=!1;function f(){if(l)return st;if(c)return c=!1,ot;var e,r,i=o;if(34===t.charCodeAt(i)){for(;o++<a&&34!==t.charCodeAt(o)||34===t.charCodeAt(++o););return(e=o)>=a?l=!0:10===(r=t.charCodeAt(o++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(o)&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=t.charCodeAt(e=o++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(o)&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,a)}for(10===t.charCodeAt(a-1)&&--a,13===t.charCodeAt(a-1)&&--a;(r=f())!==st;){for(var u=[];r!==ot&&r!==st;)u.push(r),r=f();e&&null==(u=e(u,s++))||i.push(u)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))}function a(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?ut(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,a=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=lt(t);return function(r,i){return e(n(r),i,t)}}(t,e):lt(t)}));return a.columns=i||[],a},parseRows:r,format:function(e,n){return null==n&&(n=ct(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ct(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(a).join("\n")},formatRow:a,formatValue:o}}function dt(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;pt&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}const pt=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),gt=[];function vt(e,n=t){let r;const i=[];function o(t){if(a(e,t)&&(e=t,r)){const t=!gt.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),gt.push(n,e)}if(t){for(let t=0;t<gt.length;t+=2)gt[t][0](gt[t+1]);gt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(a,s=t){const l=[a,s];return i.push(l),1===i.length&&(r=n(o)||t),a(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function mt(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function bt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wt(){}var _t=.7,xt=1/_t,Lt="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",$t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kt=/^#([0-9a-f]{3,8})$/,Wt=new RegExp("^rgb\\("+[Lt,Lt,Lt]+"\\)$"),Et=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),St=new RegExp("^rgba\\("+[Lt,Lt,Lt,Mt]+"\\)$"),At=new RegExp("^rgba\\("+[$t,$t,$t,Mt]+"\\)$"),Nt=new RegExp("^hsl\\("+[Mt,$t,$t]+"\\)$"),Ct=new RegExp("^hsla\\("+[Mt,$t,$t,Mt]+"\\)$"),Rt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tt(){return this.rgb().formatHex()}function jt(){return this.rgb().formatRgb()}function qt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?zt(e):3===n?new Dt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wt.exec(t))?new Dt(e[1],e[2],e[3],1):(e=Et.exec(t))?new Dt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=St.exec(t))?Pt(e[1],e[2],e[3],e[4]):(e=At.exec(t))?Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Nt.exec(t))?Ht(e[1],e[2]/100,e[3]/100,1):(e=Ct.exec(t))?Ht(e[1],e[2]/100,e[3]/100,e[4]):Rt.hasOwnProperty(t)?zt(Rt[t]):"transparent"===t?new Dt(NaN,NaN,NaN,0):null}function zt(t){return new Dt(t>>16&255,t>>8&255,255&t,1)}function Pt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dt(t,e,n,r)}function Ot(t){return t instanceof wt||(t=qt(t)),t?new Dt((t=t.rgb()).r,t.g,t.b,t.opacity):new Dt}function It(t,e,n,r){return 1===arguments.length?Ot(t):new Dt(t,e,n,null==r?1:r)}function Dt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ut(){return"#"+Bt(this.r)+Bt(this.g)+Bt(this.b)}function Ft(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ht(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gt(t,e,n,r)}function Vt(t){if(t instanceof Gt)return new Gt(t.h,t.s,t.l,t.opacity);if(t instanceof wt||(t=qt(t)),!t)return new Gt;if(t instanceof Gt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Gt(o,s,l,t.opacity)}function Gt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Kt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}bt(wt,qt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tt,formatHex:Tt,formatHsl:function(){return Vt(this).formatHsl()},formatRgb:jt,toString:jt}),bt(Dt,It,yt(wt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?_t:Math.pow(_t,t),new Dt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatRgb:Ft,toString:Ft})),bt(Gt,(function(t,e,n,r){return 1===arguments.length?Vt(t):new Gt(t,e,n,null==r?1:r)}),yt(wt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new Gt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?_t:Math.pow(_t,t),new Gt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dt(Kt(t>=240?t-240:t+120,i,r),Kt(t,i,r),Kt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Yt=t=>()=>t;function Zt(t){return 1==(t=+t)?Qt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Yt(isNaN(e)?n:e)}}function Qt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Yt(isNaN(t)?e:t)}var Xt=function t(e){var n=Zt(e);function r(t,e){var r=n((t=It(t)).r,(e=It(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Qt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);var Jt,te=(Jt=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return function(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}((n-r/e)*e,o,i,a,s)}},function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=It(t[e]),i[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return i=Jt(i),a=Jt(a),o=Jt(o),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=o(t),n+""}});function ee(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function ne(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=ce(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function re(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ie(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ae(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ce(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var oe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(oe.source,"g");function le(t,e){var n,r,i,a=oe.lastIndex=se.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=oe.exec(t))&&(r=se.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:ie(n,r)})),a=se.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function ce(t,e){var n,r=typeof e;return null==e||"boolean"===r?Yt(e):("number"===r?ie:"string"===r?(n=qt(e))?(e=n,Xt):le:e instanceof qt?Xt:e instanceof Date?re:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?ee:Array.isArray(e)?ne:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ae:ie)(t,e)}function fe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ue=t=>te(t[t.length-1]),he=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(mt);ue(he);var de=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(mt);ue(de);var pe=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(mt);ue(pe);var ge=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(mt);ue(ge);var ve=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(mt);ue(ve);var me=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(mt);ue(me);var be=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(mt);ue(be);var ye=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(mt);ue(ye);var we=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(mt);ue(we);var _e=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(mt);ue(_e);var xe=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(mt);ue(xe);var Le=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(mt);ue(Le);var Me=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(mt);ue(Me);var $e=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(mt);ue($e);var ke=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(mt);ue(ke);var We=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(mt);ue(We);var Ee=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(mt);ue(Ee);var Se=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(mt);ue(Se);var Ae=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(mt);ue(Ae);var Ne=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(mt);ue(Ne);var Ce=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(mt);ue(Ce);var Re=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(mt);ue(Re);var Te=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(mt);ue(Te);var je=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(mt);ue(je);var qe=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(mt);ue(qe);var ze=[{name:"Sequential (single hue)",scales:[{name:"Blues",scheme:Ce},{name:"Greens",scheme:Re},{name:"Greys",scheme:Te},{name:"Oranges",scheme:qe},{name:"Purples",scheme:je}]},{name:"Sequential (multi-hue)",scales:[{name:"BuGn",scheme:_e},{name:"BuPu",scheme:xe},{name:"GnBu",scheme:Le},{name:"OrRd",scheme:Me},{name:"PuBuGn",scheme:$e},{name:"PuBu",scheme:ke},{name:"PuRd",scheme:We},{name:"YlGnBu",scheme:Ee},{name:"YlGn",scheme:Se},{name:"YlOrBr",scheme:Ae},{name:"YlOrRd",scheme:Ne}]},{name:"Diverging",scales:[{name:"BrBG",scheme:he},{name:"PRGn",scheme:de},{name:"PiYG",scheme:pe},{name:"PuOr",scheme:ge},{name:"RdBu",scheme:ve},{name:"RdGy",scheme:me},{name:"RdYlBu",scheme:be},{name:"RdYlGn",scheme:ye},{name:"Spectral",scheme:we}]}];const Pe=["uganda","liberia","angola","cameroon","madagascar","guinea-bissau","kenya","sierra_leone","ethiopia","algeria","south_africa","mozambique","guinea","eritrea","tunisia","sudan","burkina_faso","nigeria","rwanda","senegal_republic","niger_republic","libya","egypt","dem_republic_of_the_congo","zambia","tanzania","chad_republic","zaire","mali_republic","ghana","morocco","namibia","zanzibar","ivory_coast"],Oe=vt(null),Ie=vt(null),De=vt(null),Ue=vt(ze[0].scales[0]),Fe=vt("quantiles"),Be=vt(null),He=vt(6),Ve=vt(20),Ge=vt([]),Ke=vt(null),Ye=vt(null),Ze=vt(null),Qe=vt(null),Xe=function(t,e){return{subscribe:vt(t,e).subscribe}}(Pe[Math.floor(Math.random()*Pe.length)]),Je=vt(null);function tn(t){const e=["bytes","kb","mb","gb","tb"];if(0===t)return"n/a";const n=parseInt(Math.floor(Math.log(t)/Math.log(1024)),10);return 0===n?`${t} ${e[n]})`:`${(t/1024**n).toFixed(1)} ${e[n]}`}const en=[{species:"setosa",sepalLength:5.1,sepalWidth:3.5,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:4.9,sepalWidth:3,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:4.7,sepalWidth:3.2,petalLength:1.3,petalWidth:.2},{species:"setosa",sepalLength:4.6,sepalWidth:3.1,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.6,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:5.4,sepalWidth:3.9,petalLength:1.7,petalWidth:.4},{species:"setosa",sepalLength:4.6,sepalWidth:3.4,petalLength:1.4,petalWidth:.3},{species:"setosa",sepalLength:5,sepalWidth:3.4,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:4.4,sepalWidth:2.9,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:4.9,sepalWidth:3.1,petalLength:1.5,petalWidth:.1},{species:"setosa",sepalLength:5.4,sepalWidth:3.7,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:4.8,sepalWidth:3.4,petalLength:1.6,petalWidth:.2},{species:"setosa",sepalLength:4.8,sepalWidth:3,petalLength:1.4,petalWidth:.1},{species:"setosa",sepalLength:4.3,sepalWidth:3,petalLength:1.1,petalWidth:.1},{species:"setosa",sepalLength:5.8,sepalWidth:4,petalLength:1.2,petalWidth:.2},{species:"setosa",sepalLength:5.7,sepalWidth:4.4,petalLength:1.5,petalWidth:.4},{species:"setosa",sepalLength:5.4,sepalWidth:3.9,petalLength:1.3,petalWidth:.4},{species:"setosa",sepalLength:5.1,sepalWidth:3.5,petalLength:1.4,petalWidth:.3},{species:"setosa",sepalLength:5.7,sepalWidth:3.8,petalLength:1.7,petalWidth:.3},{species:"setosa",sepalLength:5.1,sepalWidth:3.8,petalLength:1.5,petalWidth:.3},{species:"setosa",sepalLength:5.4,sepalWidth:3.4,petalLength:1.7,petalWidth:.2},{species:"setosa",sepalLength:5.1,sepalWidth:3.7,petalLength:1.5,petalWidth:.4},{species:"setosa",sepalLength:4.6,sepalWidth:3.6,petalLength:1,petalWidth:.2},{species:"setosa",sepalLength:5.1,sepalWidth:3.3,petalLength:1.7,petalWidth:.5},{species:"setosa",sepalLength:4.8,sepalWidth:3.4,petalLength:1.9,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3,petalLength:1.6,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.4,petalLength:1.6,petalWidth:.4},{species:"setosa",sepalLength:5.2,sepalWidth:3.5,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:5.2,sepalWidth:3.4,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:4.7,sepalWidth:3.2,petalLength:1.6,petalWidth:.2},{species:"setosa",sepalLength:4.8,sepalWidth:3.1,petalLength:1.6,petalWidth:.2},{species:"setosa",sepalLength:5.4,sepalWidth:3.4,petalLength:1.5,petalWidth:.4},{species:"setosa",sepalLength:5.2,sepalWidth:4.1,petalLength:1.5,petalWidth:.1},{species:"setosa",sepalLength:5.5,sepalWidth:4.2,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:4.9,sepalWidth:3.1,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.2,petalLength:1.2,petalWidth:.2},{species:"setosa",sepalLength:5.5,sepalWidth:3.5,petalLength:1.3,petalWidth:.2},{species:"setosa",sepalLength:4.9,sepalWidth:3.6,petalLength:1.4,petalWidth:.1},{species:"setosa",sepalLength:4.4,sepalWidth:3,petalLength:1.3,petalWidth:.2},{species:"setosa",sepalLength:5.1,sepalWidth:3.4,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.5,petalLength:1.3,petalWidth:.3},{species:"setosa",sepalLength:4.5,sepalWidth:2.3,petalLength:1.3,petalWidth:.3},{species:"setosa",sepalLength:4.4,sepalWidth:3.2,petalLength:1.3,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.5,petalLength:1.6,petalWidth:.6},{species:"setosa",sepalLength:5.1,sepalWidth:3.8,petalLength:1.9,petalWidth:.4},{species:"setosa",sepalLength:4.8,sepalWidth:3,petalLength:1.4,petalWidth:.3},{species:"setosa",sepalLength:5.1,sepalWidth:3.8,petalLength:1.6,petalWidth:.2},{species:"setosa",sepalLength:4.6,sepalWidth:3.2,petalLength:1.4,petalWidth:.2},{species:"setosa",sepalLength:5.3,sepalWidth:3.7,petalLength:1.5,petalWidth:.2},{species:"setosa",sepalLength:5,sepalWidth:3.3,petalLength:1.4,petalWidth:.2},{species:"versicolor",sepalLength:7,sepalWidth:3.2,petalLength:4.7,petalWidth:1.4},{species:"versicolor",sepalLength:6.4,sepalWidth:3.2,petalLength:4.5,petalWidth:1.5},{species:"versicolor",sepalLength:6.9,sepalWidth:3.1,petalLength:4.9,petalWidth:1.5},{species:"versicolor",sepalLength:5.5,sepalWidth:2.3,petalLength:4,petalWidth:1.3},{species:"versicolor",sepalLength:6.5,sepalWidth:2.8,petalLength:4.6,petalWidth:1.5},{species:"versicolor",sepalLength:5.7,sepalWidth:2.8,petalLength:4.5,petalWidth:1.3},{species:"versicolor",sepalLength:6.3,sepalWidth:3.3,petalLength:4.7,petalWidth:1.6},{species:"versicolor",sepalLength:4.9,sepalWidth:2.4,petalLength:3.3,petalWidth:1},{species:"versicolor",sepalLength:6.6,sepalWidth:2.9,petalLength:4.6,petalWidth:1.3},{species:"versicolor",sepalLength:5.2,sepalWidth:2.7,petalLength:3.9,petalWidth:1.4},{species:"versicolor",sepalLength:5,sepalWidth:2,petalLength:3.5,petalWidth:1},{species:"versicolor",sepalLength:5.9,sepalWidth:3,petalLength:4.2,petalWidth:1.5},{species:"versicolor",sepalLength:6,sepalWidth:2.2,petalLength:4,petalWidth:1},{species:"versicolor",sepalLength:6.1,sepalWidth:2.9,petalLength:4.7,petalWidth:1.4},{species:"versicolor",sepalLength:5.6,sepalWidth:2.9,petalLength:3.6,petalWidth:1.3},{species:"versicolor",sepalLength:6.7,sepalWidth:3.1,petalLength:4.4,petalWidth:1.4},{species:"versicolor",sepalLength:5.6,sepalWidth:3,petalLength:4.5,petalWidth:1.5},{species:"versicolor",sepalLength:5.8,sepalWidth:2.7,petalLength:4.1,petalWidth:1},{species:"versicolor",sepalLength:6.2,sepalWidth:2.2,petalLength:4.5,petalWidth:1.5},{species:"versicolor",sepalLength:5.6,sepalWidth:2.5,petalLength:3.9,petalWidth:1.1},{species:"versicolor",sepalLength:5.9,sepalWidth:3.2,petalLength:4.8,petalWidth:1.8},{species:"versicolor",sepalLength:6.1,sepalWidth:2.8,petalLength:4,petalWidth:1.3},{species:"versicolor",sepalLength:6.3,sepalWidth:2.5,petalLength:4.9,petalWidth:1.5},{species:"versicolor",sepalLength:6.1,sepalWidth:2.8,petalLength:4.7,petalWidth:1.2},{species:"versicolor",sepalLength:6.4,sepalWidth:2.9,petalLength:4.3,petalWidth:1.3},{species:"versicolor",sepalLength:6.6,sepalWidth:3,petalLength:4.4,petalWidth:1.4},{species:"versicolor",sepalLength:6.8,sepalWidth:2.8,petalLength:4.8,petalWidth:1.4},{species:"versicolor",sepalLength:6.7,sepalWidth:3,petalLength:5,petalWidth:1.7},{species:"versicolor",sepalLength:6,sepalWidth:2.9,petalLength:4.5,petalWidth:1.5},{species:"versicolor",sepalLength:5.7,sepalWidth:2.6,petalLength:3.5,petalWidth:1},{species:"versicolor",sepalLength:5.5,sepalWidth:2.4,petalLength:3.8,petalWidth:1.1},{species:"versicolor",sepalLength:5.5,sepalWidth:2.4,petalLength:3.7,petalWidth:1},{species:"versicolor",sepalLength:5.8,sepalWidth:2.7,petalLength:3.9,petalWidth:1.2},{species:"versicolor",sepalLength:6,sepalWidth:2.7,petalLength:5.1,petalWidth:1.6},{species:"versicolor",sepalLength:5.4,sepalWidth:3,petalLength:4.5,petalWidth:1.5},{species:"versicolor",sepalLength:6,sepalWidth:3.4,petalLength:4.5,petalWidth:1.6},{species:"versicolor",sepalLength:6.7,sepalWidth:3.1,petalLength:4.7,petalWidth:1.5},{species:"versicolor",sepalLength:6.3,sepalWidth:2.3,petalLength:4.4,petalWidth:1.3},{species:"versicolor",sepalLength:5.6,sepalWidth:3,petalLength:4.1,petalWidth:1.3},{species:"versicolor",sepalLength:5.5,sepalWidth:2.5,petalLength:4,petalWidth:1.3},{species:"versicolor",sepalLength:5.5,sepalWidth:2.6,petalLength:4.4,petalWidth:1.2},{species:"versicolor",sepalLength:6.1,sepalWidth:3,petalLength:4.6,petalWidth:1.4},{species:"versicolor",sepalLength:5.8,sepalWidth:2.6,petalLength:4,petalWidth:1.2},{species:"versicolor",sepalLength:5,sepalWidth:2.3,petalLength:3.3,petalWidth:1},{species:"versicolor",sepalLength:5.6,sepalWidth:2.7,petalLength:4.2,petalWidth:1.3},{species:"versicolor",sepalLength:5.7,sepalWidth:3,petalLength:4.2,petalWidth:1.2},{species:"versicolor",sepalLength:5.7,sepalWidth:2.9,petalLength:4.2,petalWidth:1.3},{species:"versicolor",sepalLength:6.2,sepalWidth:2.9,petalLength:4.3,petalWidth:1.3},{species:"versicolor",sepalLength:5.1,sepalWidth:2.5,petalLength:3,petalWidth:1.1},{species:"versicolor",sepalLength:5.7,sepalWidth:2.8,petalLength:4.1,petalWidth:1.3},{species:"virginica",sepalLength:6.3,sepalWidth:3.3,petalLength:6,petalWidth:2.5},{species:"virginica",sepalLength:5.8,sepalWidth:2.7,petalLength:5.1,petalWidth:1.9},{species:"virginica",sepalLength:7.1,sepalWidth:3,petalLength:5.9,petalWidth:2.1},{species:"virginica",sepalLength:6.3,sepalWidth:2.9,petalLength:5.6,petalWidth:1.8},{species:"virginica",sepalLength:6.5,sepalWidth:3,petalLength:5.8,petalWidth:2.2},{species:"virginica",sepalLength:7.6,sepalWidth:3,petalLength:6.6,petalWidth:2.1},{species:"virginica",sepalLength:4.9,sepalWidth:2.5,petalLength:4.5,petalWidth:1.7},{species:"virginica",sepalLength:7.3,sepalWidth:2.9,petalLength:6.3,petalWidth:1.8},{species:"virginica",sepalLength:6.7,sepalWidth:2.5,petalLength:5.8,petalWidth:1.8},{species:"virginica",sepalLength:7.2,sepalWidth:3.6,petalLength:6.1,petalWidth:2.5},{species:"virginica",sepalLength:6.5,sepalWidth:3.2,petalLength:5.1,petalWidth:2},{species:"virginica",sepalLength:6.4,sepalWidth:2.7,petalLength:5.3,petalWidth:1.9},{species:"virginica",sepalLength:6.8,sepalWidth:3,petalLength:5.5,petalWidth:2.1},{species:"virginica",sepalLength:5.7,sepalWidth:2.5,petalLength:5,petalWidth:2},{species:"virginica",sepalLength:5.8,sepalWidth:2.8,petalLength:5.1,petalWidth:2.4},{species:"virginica",sepalLength:6.4,sepalWidth:3.2,petalLength:5.3,petalWidth:2.3},{species:"virginica",sepalLength:6.5,sepalWidth:3,petalLength:5.5,petalWidth:1.8},{species:"virginica",sepalLength:7.7,sepalWidth:3.8,petalLength:6.7,petalWidth:2.2},{species:"virginica",sepalLength:7.7,sepalWidth:2.6,petalLength:6.9,petalWidth:2.3},{species:"virginica",sepalLength:6,sepalWidth:2.2,petalLength:5,petalWidth:1.5},{species:"virginica",sepalLength:6.9,sepalWidth:3.2,petalLength:5.7,petalWidth:2.3},{species:"virginica",sepalLength:5.6,sepalWidth:2.8,petalLength:4.9,petalWidth:2},{species:"virginica",sepalLength:7.7,sepalWidth:2.8,petalLength:6.7,petalWidth:2},{species:"virginica",sepalLength:6.3,sepalWidth:2.7,petalLength:4.9,petalWidth:1.8},{species:"virginica",sepalLength:6.7,sepalWidth:3.3,petalLength:5.7,petalWidth:2.1},{species:"virginica",sepalLength:7.2,sepalWidth:3.2,petalLength:6,petalWidth:1.8},{species:"virginica",sepalLength:6.2,sepalWidth:2.8,petalLength:4.8,petalWidth:1.8},{species:"virginica",sepalLength:6.1,sepalWidth:3,petalLength:4.9,petalWidth:1.8},{species:"virginica",sepalLength:6.4,sepalWidth:2.8,petalLength:5.6,petalWidth:2.1},{species:"virginica",sepalLength:7.2,sepalWidth:3,petalLength:5.8,petalWidth:1.6},{species:"virginica",sepalLength:7.4,sepalWidth:2.8,petalLength:6.1,petalWidth:1.9},{species:"virginica",sepalLength:7.9,sepalWidth:3.8,petalLength:6.4,petalWidth:2},{species:"virginica",sepalLength:6.4,sepalWidth:2.8,petalLength:5.6,petalWidth:2.2},{species:"virginica",sepalLength:6.3,sepalWidth:2.8,petalLength:5.1,petalWidth:1.5},{species:"virginica",sepalLength:6.1,sepalWidth:2.6,petalLength:5.6,petalWidth:1.4},{species:"virginica",sepalLength:7.7,sepalWidth:3,petalLength:6.1,petalWidth:2.3},{species:"virginica",sepalLength:6.3,sepalWidth:3.4,petalLength:5.6,petalWidth:2.4},{species:"virginica",sepalLength:6.4,sepalWidth:3.1,petalLength:5.5,petalWidth:1.8},{species:"virginica",sepalLength:6,sepalWidth:3,petalLength:4.8,petalWidth:1.8},{species:"virginica",sepalLength:6.9,sepalWidth:3.1,petalLength:5.4,petalWidth:2.1},{species:"virginica",sepalLength:6.7,sepalWidth:3.1,petalLength:5.6,petalWidth:2.4},{species:"virginica",sepalLength:6.9,sepalWidth:3.1,petalLength:5.1,petalWidth:2.3},{species:"virginica",sepalLength:5.8,sepalWidth:2.7,petalLength:5.1,petalWidth:1.9},{species:"virginica",sepalLength:6.8,sepalWidth:3.2,petalLength:5.9,petalWidth:2.3},{species:"virginica",sepalLength:6.7,sepalWidth:3.3,petalLength:5.7,petalWidth:2.5},{species:"virginica",sepalLength:6.7,sepalWidth:3,petalLength:5.2,petalWidth:2.3},{species:"virginica",sepalLength:6.3,sepalWidth:2.5,petalLength:5,petalWidth:1.9},{species:"virginica",sepalLength:6.5,sepalWidth:3,petalLength:5.2,petalWidth:2},{species:"virginica",sepalLength:6.2,sepalWidth:3.4,petalLength:5.4,petalWidth:2.3},{species:"virginica",sepalLength:5.9,sepalWidth:3,petalLength:5.1,petalWidth:1.8}];function nn(t){let e;return{c(){e=b("Upload your spreadsheet (don’t worry, everything stays on your computer)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function rn(e){let n,r,i,a,o,s,l;return{c(){n=m("svg"),r=m("path"),i=m("path"),a=y(),o=v("div"),o.textContent="Error while reading the file",s=y(),l=v("div"),l.textContent="please upload a valid CSV",L(r,"d","M0 0h24v24H0z"),L(r,"fill","none"),L(i,"d","M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"),L(n,"class","icon-bg-error svelte-15ycj3v"),L(n,"xmlns","http://www.w3.org/2000/svg"),L(n,"height","24"),L(n,"viewBox","0 0 24 24"),L(n,"width","24"),L(o,"class","drag-error-title svelte-15ycj3v"),L(l,"class","drag-error-hint svelte-15ycj3v")},m(t,e){d(t,n,e),h(n,r),h(n,i),d(t,a,e),d(t,o,e),d(t,s,e),d(t,l,e)},p:t,d(t){t&&p(n),t&&p(a),t&&p(o),t&&p(s),t&&p(l)}}}function an(t){let e,n,r,i,a,o,s,l,c,f,u,g,w,_,x,$=t[2].name+"",k=tn(t[2].size)+"";return{c(){e=m("svg"),n=m("g"),r=m("rect"),i=m("g"),a=m("g"),o=m("path"),s=m("path"),l=m("circle"),c=y(),f=v("div"),u=v("div"),g=b($),w=y(),_=v("div"),x=b(k),L(r,"fill","none"),L(r,"height","24"),L(r,"width","24"),L(o,"d","M7,19c-1.1,0-2,0.9-2,2h14c0-1.1-0.9-2-2-2h-4v-2h3c1.1,0,2-0.9,2-2h-8c-1.66,0-3-1.34-3-3c0-1.09,0.59-2.04,1.46-2.56 C8.17,9.03,8,8.54,8,8c0-0.21,0.04-0.42,0.09-0.62C6.28,8.13,5,9.92,5,12c0,2.76,2.24,5,5,5v2H7z"),L(s,"d","M10.56,5.51C11.91,5.54,13,6.64,13,8c0,0.75-0.33,1.41-0.85,1.87l0.59,1.62l0.94-0.34l0.34,0.94l1.88-0.68l-0.34-0.94 l0.94-0.34L13.76,2.6l-0.94,0.34L12.48,2L10.6,2.68l0.34,0.94L10,3.97L10.56,5.51z"),L(l,"cx","10.5"),L(l,"cy","8"),L(l,"r","1.5"),L(e,"class","icon-bg-success svelte-15ycj3v"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"enable-background","new 0 0 24 24"),L(e,"height","24"),L(e,"viewBox","0 0 24 24"),L(e,"width","24"),L(u,"class","drag-filename svelte-15ycj3v"),L(_,"class","drag-filesize svelte-15ycj3v")},m(t,p){d(t,e,p),h(e,n),h(n,r),h(e,i),h(i,a),h(a,o),h(a,s),h(a,l),d(t,c,p),d(t,f,p),h(f,u),h(u,g),h(f,w),h(f,_),h(_,x)},p(t,e){4&e&&$!==($=t[2].name+"")&&M(g,$),4&e&&k!==(k=tn(t[2].size)+"")&&M(x,k)},d(t){t&&p(e),t&&p(c),t&&p(f)}}}function on(e){let n,r,i,a,o,s,l,c,f,u,g,b;return{c(){n=m("svg"),r=m("g"),i=m("rect"),a=m("g"),o=m("g"),s=m("path"),l=m("polygon"),c=m("polygon"),f=y(),u=v("div"),u.innerHTML='<div class="drag-callout-title svelte-15ycj3v"><svg class="drag-icon svelte-15ycj3v" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"></path></svg> \n\n                <div>Drop your file</div></div> \n              <div class="drag-select">or <span class="underline svelte-15ycj3v">select it</span></div>',g=y(),b=v("div"),b.textContent="CSV and TSV files are supported",L(i,"fill","none"),L(i,"height","24"),L(i,"width","24"),L(s,"d","M21,8c-1.45,0-2.26,1.44-1.93,2.51l-3.55,3.56c-0.3-0.09-0.74-0.09-1.04,0l-2.55-2.55C12.27,10.45,11.46,9,10,9 c-1.45,0-2.27,1.44-1.93,2.52l-4.56,4.55C2.44,15.74,1,16.55,1,18c0,1.1,0.9,2,2,2c1.45,0,2.26-1.44,1.93-2.51l4.55-4.56 c0.3,0.09,0.74,0.09,1.04,0l2.55,2.55C12.73,16.55,13.54,18,15,18c1.45,0,2.27-1.44,1.93-2.52l3.56-3.55 C21.56,12.26,23,11.45,23,10C23,8.9,22.1,8,21,8z"),L(l,"points","15,9 15.94,6.93 18,6 15.94,5.07 15,3 14.08,5.07 12,6 14.08,6.93"),L(c,"points","3.5,11 4,9 6,8.5 4,8 3.5,6 3,8 1,8.5 3,9"),L(n,"class","icon-bg-magic svelte-15ycj3v"),L(n,"xmlns","http://www.w3.org/2000/svg"),L(n,"enable-background","new 0 0 24 24"),L(n,"height","24"),L(n,"viewBox","0 0 24 24"),L(n,"width","24"),L(u,"class","drag-callout svelte-15ycj3v"),L(b,"class","small-note svelte-15ycj3v")},m(t,e){d(t,n,e),h(n,r),h(r,i),h(n,a),h(a,o),h(o,s),h(o,l),h(o,c),d(t,f,e),d(t,u,e),d(t,g,e),d(t,b,e)},p:t,d(t){t&&p(n),t&&p(f),t&&p(u),t&&p(g),t&&p(b)}}}function sn(t){let e,n,i,a,o,s,l,c,u,g,m,b,w,M;function $(t,e){return t[3]&&!t[4]?on:t[4]?an:rn}n=new nt({props:{step:1,$$slots:{default:[nn]},$$scope:{ctx:t}}});let k=$(t),W=k(t);return{c(){e=v("section"),K(n.$$.fragment),i=y(),a=v("div"),o=v("form"),s=v("div"),l=v("input"),c=y(),u=v("label"),W.c(),L(l,"id","file"),L(l,"class","drag-file svelte-15ycj3v"),L(l,"accept","text"),L(l,"type","file"),L(u,"for","file"),L(u,"class","svelte-15ycj3v"),L(s,"class",g=f(["drag-input",t[4]?"is-uploaded":""].join(" "))+" svelte-15ycj3v"),L(o,"class",m=f(["drag",t[0]?"is-dragging":""].join(" "))+" svelte-15ycj3v"),L(o,"method","post"),L(o,"enctype","multipart/form-data"),L(a,"class","data-input svelte-15ycj3v"),L(e,"id","upload"),L(e,"class","svelte-15ycj3v")},m(r,f){var p;d(r,e,f),Y(n,e,null),h(e,i),h(e,a),h(a,o),h(o,s),h(s,l),h(s,c),h(s,u),W.m(u,null),b=!0,w||(M=[_(l,"change",t[7]),_(o,"dragover",x(t[6])),_(o,"dragenter",t[8]),_(o,"dragleave",t[9]),_(o,"drop",(p=x(t[5]),function(t){return t.stopPropagation(),p.call(this,t)}))],w=!0)},p(t,[e]){const r={};4096&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),k===(k=$(t))&&W?W.p(t,e):(W.d(1),W=k(t),W&&(W.c(),W.m(u,null))),(!b||16&e&&g!==(g=f(["drag-input",t[4]?"is-uploaded":""].join(" "))+" svelte-15ycj3v"))&&L(s,"class",g),(!b||1&e&&m!==(m=f(["drag",t[0]?"is-dragging":""].join(" "))+" svelte-15ycj3v"))&&L(o,"class",m)},i(t){b||(V(n.$$.fragment,t),b=!0)},o(t){G(n.$$.fragment,t),b=!1},d(t){t&&p(e),Z(n),W.d(),w=!1,r(M)}}}function ln(t,e,n){let r,i,a=!1;function o(t){const e=new FileReader;t.type.match("text/csv")||t.type.match("text/tsv")||t.type.match("text/txt")?(e.readAsText(t),e.onload=()=>{n(4,l=!0),n(2,i=t);const{meta:r}=at.parse(e.result),a=ht(r.delimiter);Oe.set(a.parse(e.result,dt))}):(n(4,l=!1),n(3,s=!1))}Oe.set(en);let s,l;return t.$$.update=()=>{if(2&t.$$.dirty&&r){const[t]=r;o(t)}},n(3,s=!0),n(4,l=!1),[a,r,i,s,l,function(t){const[e]=t.dataTransfer.files;o(e)},function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)},function(){r=this.files,n(1,r)},()=>n(0,a=!0),()=>n(0,a=!1)]}en.columns=Object.keys(en[0]);class cn extends J{constructor(t){super(),X(this,t,ln,sn,a,{})}}function fn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function un(t){return(t=fn(Math.abs(t)))?t[1]:NaN}var hn,dn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pn(t){if(!(e=dn.exec(t)))throw new Error("invalid format: "+t);var e;return new gn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function gn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function vn(t,e){var n=fn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}pn.prototype=gn.prototype,gn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var mn={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>vn(100*t,e),r:vn,s:function(t,e){var n=fn(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(hn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+fn(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bn(t){return t}var yn,wn,_n,xn=Array.prototype.map,Ln=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Mn(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?bn:(e=xn.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?bn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(xn.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",f=void 0===t.nan?"NaN":t.nan+"";function u(t){var e=(t=pn(t)).fill,n=t.align,u=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,m=t.trim,b=t.type;"n"===b?(g=!0,b="g"):mn[b]||(void 0===v&&(v=12),m=!0,b="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var y="$"===h?i:"#"===h&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",w="$"===h?a:/[%p]/.test(b)?l:"",_=mn[b],x=/[defgprs%]/.test(b);function L(t){var i,a,l,h=y,L=w;if("c"===b)L=_(t)+L,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?f:_(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==u&&(M=!1),h=(M?"("===u?u:c:"-"===u||"("===u?"":u)+h,L=("s"===b?Ln[8+hn/3]:"")+L+(M&&"("===u?")":""),x)for(i=-1,a=t.length;++i<a;)if(48>(l=t.charCodeAt(i))||l>57){L=(46===l?o+t.slice(i+1):t.slice(i))+L,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var $=h.length+t.length+L.length,k=$<p?new Array(p-$+1).join(e):"";switch(g&&d&&(t=r(k+t,k.length?p-L.length:1/0),k=""),n){case"<":t=h+t+L+k;break;case"=":t=h+k+t+L;break;case"^":t=k.slice(0,$=k.length>>1)+h+t+L+k.slice($);break;default:t=k+h+t+L}return s(t)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),L.toString=function(){return t+""},L}return{format:u,formatPrefix:function(t,e){var n=u(((t=pn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(un(e)/3))),i=Math.pow(10,-r),a=Ln[8+r/3];return function(t){return n(i*t)+a}}}}yn=Mn({thousands:",",grouping:[3],currency:["$",""]}),wn=yn.format,_n=yn.formatPrefix;var $n="http://www.w3.org/1999/xhtml",kn={svg:"http://www.w3.org/2000/svg",xhtml:$n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Wn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),kn.hasOwnProperty(e)?{space:kn[e],local:t}:t}function En(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===$n&&e.documentElement.namespaceURI===$n?e.createElement(t):e.createElementNS(n,t)}}function Sn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function An(t){var e=Wn(t);return(e.local?Sn:En)(e)}function Nn(){}function Cn(t){return null==t?Nn:function(){return this.querySelector(t)}}function Rn(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Tn(){return[]}function jn(t){return function(e){return e.matches(t)}}var qn=Array.prototype.find;function zn(){return this.firstElementChild}var Pn=Array.prototype.filter;function On(){return this.children}function In(t){return new Array(t.length)}function Dn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Un(t){return function(){return t}}function Fn(t,e,n,r,i,a){for(var o,s=0,l=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Dn(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function Bn(t,e,n,r,i,a,o){var s,l,c,f=new Map,u=e.length,h=a.length,d=new Array(u);for(s=0;s<u;++s)(l=e[s])&&(d[s]=c=o.call(l,l.__data__,s,e)+"",f.has(c)?i[s]=l:f.set(c,l));for(s=0;s<h;++s)c=o.call(t,a[s],s,a)+"",(l=f.get(c))?(r[s]=l,l.__data__=a[s],f.delete(c)):n[s]=new Dn(t,a[s]);for(s=0;s<u;++s)(l=e[s])&&f.get(d[s])===l&&(i[s]=l)}function Hn(t){return t.__data__}function Vn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gn(t){return function(){this.removeAttribute(t)}}function Kn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yn(t,e){return function(){this.setAttribute(t,e)}}function Zn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Xn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Jn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function tr(t){return function(){this.style.removeProperty(t)}}function er(t,e,n){return function(){this.style.setProperty(t,e,n)}}function nr(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function rr(t,e){return t.style.getPropertyValue(e)||Jn(t).getComputedStyle(t,null).getPropertyValue(e)}function ir(t){return function(){delete this[t]}}function ar(t,e){return function(){this[t]=e}}function or(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function sr(t){return t.trim().split(/^|\s+/)}function lr(t){return t.classList||new cr(t)}function cr(t){this._node=t,this._names=sr(t.getAttribute("class")||"")}function fr(t,e){for(var n=lr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ur(t,e){for(var n=lr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function hr(t){return function(){fr(this,t)}}function dr(t){return function(){ur(this,t)}}function pr(t,e){return function(){(e.apply(this,arguments)?fr:ur)(this,t)}}function gr(){this.textContent=""}function vr(t){return function(){this.textContent=t}}function mr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function br(){this.innerHTML=""}function yr(t){return function(){this.innerHTML=t}}function wr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function _r(){this.nextSibling&&this.parentNode.appendChild(this)}function xr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lr(){return null}function Mr(){var t=this.parentNode;t&&t.removeChild(this)}function $r(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kr(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wr(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Er(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Sr(t,e,n){return function(){var r,i=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Ar(t,e,n){var r=Jn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Nr(t,e){return function(){return Ar(this,t,e)}}function Cr(t,e){return function(){return Ar(this,t,e.apply(this,arguments))}}Dn.prototype={constructor:Dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},cr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Rr=[null];function Tr(t,e){this._groups=t,this._parents=e}function jr(t){return"string"==typeof t?new Tr([[document.querySelector(t)]],[document.documentElement]):new Tr([[t]],Rr)}function qr(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}Tr.prototype=function(){return new Tr([[document.documentElement]],Rr)}.prototype={constructor:Tr,select:function(t){"function"!=typeof t&&(t=Cn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,c=r[i]=new Array(l),f=0;f<l;++f)(a=s[f])&&(o=t.call(a,a.__data__,f,s))&&("__data__"in a&&(o.__data__=a.__data__),c[f]=o);return new Tr(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Rn(e)}}(t):function(t){return null==t?Tn:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Tr(r,i)},selectChild:function(t){return this.select(null==t?zn:function(t){return function(){return qn.call(this.children,t)}}("function"==typeof t?t:jn(t)))},selectChildren:function(t){return this.selectAll(null==t?On:function(t){return function(){return Pn.call(this.children,t)}}("function"==typeof t?t:jn(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&l.push(a);return new Tr(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Hn);var n=e?Bn:Fn,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Un(t));for(var a=i.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=r[c],u=i[c],h=u.length,d=Rn(t.call(f,f&&f.__data__,c,r)),p=d.length,g=s[c]=new Array(p),v=o[c]=new Array(p),m=l[c]=new Array(h);n(f,u,g,v,m,d,e);for(var b,y,w=0,_=0;w<p;++w)if(b=g[w]){for(w>=_&&(_=w+1);!(y=v[_])&&++_<p;);b._next=y||null}}return(o=new Tr(o,r))._enter=s,o._exit=l,o},enter:function(){return new Tr(this._enter||this._groups.map(In),this._parents)},exit:function(){return new Tr(this._exit||this._groups.map(In),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Tr))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,c=e[s],f=n[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(l=c[d]||f[d])&&(h[d]=l);for(;s<r;++s)o[s]=e[s];return new Tr(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Vn);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],l=s.length,c=i[a]=new Array(l),f=0;f<l;++f)(o=s[f])&&(c[f]=o);c.sort(e)}return new Tr(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=Wn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Kn:Gn:"function"==typeof e?n.local?Xn:Qn:n.local?Zn:Yn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?tr:"function"==typeof e?nr:er)(t,e,null==n?"":n)):rr(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ir:"function"==typeof e?or:ar)(t,e)):this.node()[t]},classed:function(t,e){var n=sr(t+"");if(arguments.length<2){for(var r=lr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?pr:e?hr:dr)(n,e))},text:function(t){return arguments.length?this.each(null==t?gr:("function"==typeof t?mr:vr)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?br:("function"==typeof t?wr:yr)(t)):this.node().innerHTML},raise:function(){return this.each(_r)},lower:function(){return this.each(xr)},append:function(t){var e="function"==typeof t?t:An(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:An(t),r=null==e?Lr:"function"==typeof e?e:Cn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Mr)},clone:function(t){return this.select(t?kr:$r)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Wr(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Sr:Er,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,f=s.length;c<f;++c)for(r=0,l=s[c];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Cr:Nr)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)}};var zr="object"==typeof rt&&rt&&rt.Object===Object&&rt,Pr="object"==typeof self&&self&&self.Object===Object&&self,Or=zr||Pr||Function("return this")(),Ir=Or.Symbol,Dr=Object.prototype,Ur=Dr.hasOwnProperty,Fr=Dr.toString,Br=Ir?Ir.toStringTag:void 0;var Hr=function(t){var e=Ur.call(t,Br),n=t[Br];try{t[Br]=void 0;var r=!0}catch(t){}var i=Fr.call(t);return r&&(e?t[Br]=n:delete t[Br]),i},Vr=Object.prototype.toString;var Gr=function(t){return Vr.call(t)},Kr=Ir?Ir.toStringTag:void 0;var Yr=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Kr&&Kr in Object(t)?Hr(t):Gr(t)};var Zr=function(t){return null!=t&&"object"==typeof t};var Qr=function(t){return Zr(t)&&"[object Date]"==Yr(t)};var Xr=function(t){return function(e){return t(e)}},Jr=it((function(t,e){var n=e&&!e.nodeType&&e,r=n&&t&&!t.nodeType&&t,i=r&&r.exports===n&&zr.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a})),ti=Jr&&Jr.isDate,ei=ti?Xr(ti):Qr,ni=Or.isFinite;var ri=function(t){return"number"==typeof t&&ni(t)},ii=Array.isArray;var ai=function(t){return"string"==typeof t||!ii(t)&&Zr(t)&&"[object String]"==Yr(t)};function oi(t){switch(!0){case ei(t):return"date";case ri(t):return"number";case ai(t):return"string";default:return""}}function si(t,e,n){const r=t.slice();return r[14]=e[n],r}function li(t,e,n){const r=t.slice();return r[11]=e[n],r}function ci(t,e,n){const r=t.slice();return r[14]=e[n],r}function fi(t){let e;return{c(){e=b("Select the (numeric) column that you want to inspect")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ui(t){let e,n,r,a,o,s,l,c,f,u,m,w,x,$,k,W,E,S,A=t[5](t[4].length<t[2]?t[4].length:t[2])+"",N=t[5](t[4].length)+"",C=t[4].columns,R=[];for(let e=0;e<C.length;e+=1)R[e]=hi(ci(t,C,e));let T=t[4].slice(0,t[2]),j=[];for(let e=0;e<T.length;e+=1)j[e]=pi(li(t,T,e));return{c(){e=v("div"),n=v("table"),r=v("thead"),a=v("tr");for(let t=0;t<R.length;t+=1)R[t].c();o=y(),s=v("tbody");for(let t=0;t<j.length;t+=1)j[t].c();l=y(),c=v("button"),f=b("Show more rows"),m=y(),w=v("div"),x=b(A),$=b("/"),k=b(N),W=b("\n        rows"),L(n,"class","svelte-f8oopu"),L(e,"class","table-container svelte-f8oopu"),c.disabled=u=t[2]===t[4].length,L(c,"class","svelte-f8oopu"),L(w,"class","row-size svelte-f8oopu")},m(u,p){d(u,e,p),h(e,n),h(n,r),h(r,a);for(let t=0;t<R.length;t+=1)R[t].m(a,null);t[8](a),h(n,o),h(n,s);for(let t=0;t<j.length;t+=1)j[t].m(s,null);t[10](s),d(u,l,p),d(u,c,p),h(c,f),d(u,m,p),d(u,w,p),h(w,x),h(w,$),h(w,k),h(w,W),E||(S=_(c,"click",(function(){i(t[3])&&t[3].apply(this,arguments)})),E=!0)},p(e,n){if(t=e,80&n){let e;for(C=t[4].columns,e=0;e<C.length;e+=1){const r=ci(t,C,e);R[e]?R[e].p(r,n):(R[e]=hi(r),R[e].c(),R[e].m(a,null))}for(;e<R.length;e+=1)R[e].d(1);R.length=C.length}if(84&n){let e;for(T=t[4].slice(0,t[2]),e=0;e<T.length;e+=1){const r=li(t,T,e);j[e]?j[e].p(r,n):(j[e]=pi(r),j[e].c(),j[e].m(s,null))}for(;e<j.length;e+=1)j[e].d(1);j.length=T.length}20&n&&u!==(u=t[2]===t[4].length)&&(c.disabled=u),20&n&&A!==(A=t[5](t[4].length<t[2]?t[4].length:t[2])+"")&&M(x,A),16&n&&N!==(N=t[5](t[4].length)+"")&&M(k,N)},d(n){n&&p(e),g(R,n),t[8](null),g(j,n),t[10](null),n&&p(l),n&&p(c),n&&p(m),n&&p(w),E=!1,S()}}}function hi(t){let e,n,r,i,a,o,s=t[14]+"";function l(...e){return t[7](t[14],...e)}return{c(){e=v("th"),n=b(s),r=y(),L(e,"class",i=f(oi(t[4][0][t[14]]))+" svelte-f8oopu")},m(t,i){d(t,e,i),h(e,n),h(e,r),a||(o=_(e,"click",l),a=!0)},p(r,a){t=r,16&a&&s!==(s=t[14]+"")&&M(n,s),16&a&&i!==(i=f(oi(t[4][0][t[14]]))+" svelte-f8oopu")&&L(e,"class",i)},d(t){t&&p(e),a=!1,o()}}}function di(t){let e,n,r,i,a,o=t[11][t[14]]+"";function s(...e){return t[9](t[14],...e)}return{c(){e=v("td"),n=b(o),L(e,"class",r=f(oi(t[11][t[14]]))+" svelte-f8oopu")},m(t,r){d(t,e,r),h(e,n),i||(a=_(e,"click",s),i=!0)},p(i,a){t=i,20&a&&o!==(o=t[11][t[14]]+"")&&M(n,o),20&a&&r!==(r=f(oi(t[11][t[14]]))+" svelte-f8oopu")&&L(e,"class",r)},d(t){t&&p(e),i=!1,a()}}}function pi(t){let e,n,r=t[4].columns,i=[];for(let e=0;e<r.length;e+=1)i[e]=di(si(t,r,e));return{c(){e=v("tr");for(let t=0;t<i.length;t+=1)i[t].c();n=y()},m(t,r){d(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);h(e,n)},p(t,a){if(84&a){let o;for(r=t[4].columns,o=0;o<r.length;o+=1){const s=si(t,r,o);i[o]?i[o].p(s,a):(i[o]=di(s),i[o].c(),i[o].m(e,n))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},d(t){t&&p(e),g(i,t)}}}function gi(t){let e,n,r,i,a;n=new nt({props:{enabled:t[4],step:2,$$slots:{default:[fi]},$$scope:{ctx:t}}});let o=t[4]&&ui(t);return{c(){e=v("section"),K(n.$$.fragment),r=y(),i=v("div"),o&&o.c(),L(i,"class","preview svelte-f8oopu"),L(e,"id","choose")},m(t,s){d(t,e,s),Y(n,e,null),h(e,r),h(e,i),o&&o.m(i,null),a=!0},p(t,[e]){const r={};16&e&&(r.enabled=t[4]),524288&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r),t[4]?o?o.p(t,e):(o=ui(t),o.c(),o.m(i,null)):o&&(o.d(1),o=null)},i(t){a||(V(n.$$.fragment,t),a=!0)},o(t){G(n.$$.fragment,t),a=!1},d(t){t&&p(e),Z(n),o&&o.d()}}}function vi(t,e,n){let r;o(t,Oe,(t=>n(4,r=t)));const i=wn(",");let a,s;function l(t,e){if("number"!==oi(r[0][t]))return;const n="TD"===e.target.nodeName,i=n&&e.target.cellIndex;(function(t){return"string"==typeof t?new Tr([document.querySelectorAll(t)],[document.documentElement]):new Tr([null==t?[]:Rn(t)],Rr)})(".checked").classed("checked",!1),n?(jr(s).selectAll("th").nodes().filter((e=>e.textContent===t)).forEach((t=>t.classList.add("checked"))),jr(a).selectAll("td").nodes().filter((t=>t.cellIndex===i)).forEach((t=>t.classList.add("checked")))):jr(e.target).classed("checked",!0),Ie.set({data:r.map((e=>e[t])),column:t})}let c,f;return t.$$.update=()=>{20&t.$$.dirty&&n(3,f=()=>{c+10>r.length?n(2,c=r.length):n(2,c=10+c)})},n(2,c=10),[a,s,c,f,r,i,l,(t,e)=>l(t,e),function(t){C[t?"unshift":"push"]((()=>{s=t,n(1,s)}))},(t,e)=>l(t,e),function(t){C[t?"unshift":"push"]((()=>{a=t,n(0,a)}))}]}class mi extends J{constructor(t){super(),X(this,t,vi,gi,a,{})}}function bi(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function yi(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)<0?r=a+1:i=a}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>bi(t(e),n)}(t)),{left:r,center:function(t,n,i,a){null==i&&(i=0),null==a&&(a=t.length);const o=r(t,n,i,a-1);return o>i&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const a=r+i>>>1;n(t[a],e)>0?i=a:r=a+1}return r}}}function wi(t){return null===t?NaN:+t}const _i=yi(bi).right;yi(wi).center;function xi(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(void 0===n?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Li{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const i=e[r],a=t+i,o=Math.abs(t)<Math.abs(i)?t-(a-i):i-(a-t);o&&(e[n++]=o),t=a}return e[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let e,n,r,i=this._n,a=0;if(i>0){for(a=t[--i];i>0&&(e=a,n=t[--i],a=e+n,r=n-(a-e),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(n=2*r,e=a+n,n==e-a&&(a=e))}return a}}function Mi(t){return t}var $i=Array.prototype.slice;function ki(t){return function(){return t}}var Wi=Math.sqrt(50),Ei=Math.sqrt(10),Si=Math.sqrt(2);function Ai(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Ni(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)/o;return r&&a.reverse(),a}function Ni(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Wi?10:a>=Ei?5:a>=Si?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Wi?10:a>=Ei?5:a>=Si?2:1)}function Ci(t){return Math.ceil(Math.log(function(t,e){let n=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&++n;else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(i=+i)>=i&&++n}return n}(t))/Math.LN2)+1}function Ri(){var t=Mi,e=xi,n=Ci;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var l=e(s),c=l[0],f=l[1],u=n(s,c,f);Array.isArray(u)||(u=+u,e===xi&&([c,f]=function(t,e,n){let r;for(;;){const i=Ni(t,e,n);if(i===r||0===i||!isFinite(i))return[t,e];i>0?(t=Math.floor(t/i)*i,e=Math.ceil(e/i)*i):i<0&&(t=Math.ceil(t*i)/i,e=Math.floor(e*i)/i),r=i}}(c,f,u)),(u=Ai(c,f,u))[u.length-1]===f&&u.pop());for(var h=u.length;u[0]<=c;)u.shift(),--h;for(;u[h-1]>f;)u.pop(),--h;var d,p=new Array(h+1);for(i=0;i<=h;++i)(d=p[i]=[]).x0=i>0?u[i-1]:c,d.x1=i<h?u[i]:f;for(i=0;i<o;++i)c<=(a=s[i])&&a<=f&&p[_i(u,a,0,h)].push(r[i]);return p}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:ki(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:ki([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?ki($i.call(t)):ki(t),r):n},r}function Ti(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function ji(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function qi(t,e,n=0,r=t.length-1,i=bi){for(;r>n;){if(r-n>600){const a=r-n+1,o=e-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);qi(t,e,Math.max(n,Math.floor(e-o*l/a+c)),Math.min(r,Math.floor(e+(a-o)*l/a+c)),i)}const a=t[e];let o=n,s=r;for(zi(t,n,e),i(t[r],a)>0&&zi(t,n,r);o<s;){for(zi(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}0===i(t[n],a)?zi(t,n,s):(++s,zi(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function zi(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Pi(t,e,n){if(r=(t=Float64Array.from(function*(t,e){if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(yield e);else{let n=-1;for(let r of t)null!=(r=e(r,++n,t))&&(r=+r)>=r&&(yield r)}}(t,n))).length){if((e=+e)<=0||r<2)return ji(t);if(e>=1)return Ti(t);var r,i=(r-1)*e,a=Math.floor(i),o=Ti(qi(t,a).subarray(0,a+1));return o+(ji(t.subarray(a+1))-o)*(i-a)}}function Oi(t,e,n=wi){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function Ii(t){return Array.from(function*(t){for(const e of t)yield*e}(t))}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ui(t){return+t}var Fi=[0,1];function Bi(t){return t}function Hi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Vi(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Hi(i,r),a=n(o,a)):(r=Hi(r,i),a=n(a,o)),function(t){return a(r(t))}}function Gi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Hi(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=_i(t,e,1,r)-1;return a[n](i[n](e))}}function Ki(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Yi(){var t,e,n,r,i,a,o=Fi,s=Fi,l=ce,c=Bi;function f(){var t=Math.min(o.length,s.length);return c!==Bi&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(o[0],o[t-1])),r=t>2?Gi:Vi,i=a=null,u}function u(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),s,l)))(t(c(e)))}return u.invert=function(n){return c(e((a||(a=r(s,o.map(t),ie)))(n)))},u.domain=function(t){return arguments.length?(o=Array.from(t,Ui),f()):o.slice()},u.range=function(t){return arguments.length?(s=Array.from(t),f()):s.slice()},u.rangeRound=function(t){return s=Array.from(t),l=fe,f()},u.clamp=function(t){return arguments.length?(c=!!t||Bi,f()):c!==Bi},u.interpolate=function(t){return arguments.length?(l=t,f()):l},u.unknown=function(t){return arguments.length?(n=t,u):n},function(n,r){return t=n,e=r,f()}}function Zi(){return Yi()(Bi,Bi)}function Qi(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Wi?i*=10:a>=Ei?i*=5:a>=Si&&(i*=2),e<t?-i:i}(t,e,n);switch((r=pn(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(un(e)/3)))-un(Math.abs(t)))}(a,o))||(r.precision=i),_n(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,un(e)-un(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-un(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return wn(r)}function Xi(t){var e=t.domain;return t.ticks=function(t){var n=e();return Ai(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Qi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,a=e(),o=0,s=a.length-1,l=a[o],c=a[s],f=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);f-- >0;){if((i=Ni(l,c,n))===r)return a[o]=l,a[s]=c,e(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Ji(){var t=Zi();return t.copy=function(){return Ki(t,Ji())},Di.apply(t,arguments),Xi(t)}function ta(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=Oi(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[_i(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(bi),i()},a.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return ta().domain(e).range(n).unknown(t)},Di.apply(a,arguments)}function ea(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[_i(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},o.range=function(t){return arguments.length?(r=(a=Array.from(t)).length-1,s()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return ea().domain([e,n]).range(a).unknown(t)},Di.apply(Xi(o),arguments)}function na(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[_i(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return na().domain(e).range(n).unknown(t)},Di.apply(i,arguments)}function ra(t){let e,n,i,a,o,l,u,g,w,x,k,W,E,S,A,N;const C=t[4].default,R=s(C,t,t[3],null);return{c(){e=v("div"),n=v("div"),i=v("div"),a=y(),o=v("div"),l=b(t[0]),u=y(),g=v("div"),w=m("svg"),x=m("path"),k=m("path"),E=y(),R&&R.c(),L(i,"class","help-tooltip svelte-1hyltr5"),$(i,"display",t[2]?"block":"none"),L(o,"class","setting-name svelte-1hyltr5"),L(x,"d","M0 0h24v24H0z"),L(x,"fill","none"),L(k,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),L(w,"xmlns","http://www.w3.org/2000/svg"),L(w,"height","18"),L(w,"viewBox","0 0 24 24"),L(w,"width","18"),L(w,"class","svelte-1hyltr5"),L(g,"class",W=f(["setting-help",t[2]?"active":""].join(" "))+" svelte-1hyltr5"),L(n,"class","setting-title svelte-1hyltr5"),L(e,"class","setting-group svelte-1hyltr5")},m(r,s){d(r,e,s),h(e,n),h(n,i),i.innerHTML=t[1],h(n,a),h(n,o),h(o,l),h(n,u),h(n,g),h(g,w),h(w,x),h(w,k),h(e,E),R&&R.m(e,null),S=!0,A||(N=[_(g,"mousemove",t[5]),_(g,"mouseleave",t[6])],A=!0)},p(t,[e]){(!S||2&e)&&(i.innerHTML=t[1]),(!S||4&e)&&$(i,"display",t[2]?"block":"none"),(!S||1&e)&&M(l,t[0]),(!S||4&e&&W!==(W=f(["setting-help",t[2]?"active":""].join(" "))+" svelte-1hyltr5"))&&L(g,"class",W),R&&R.p&&8&e&&c(R,C,t,t[3],e,null,null)},i(t){S||(V(R,t),S=!0)},o(t){G(R,t),S=!1},d(t){t&&p(e),R&&R.d(t),A=!1,r(N)}}}function ia(t,e,n){let{$$slots:r={},$$scope:i}=e,{name:a="Setting"}=e,{help:o="This is some help text"}=e,s=!1;return t.$$set=t=>{"name"in t&&n(0,a=t.name),"help"in t&&n(1,o=t.help),"$$scope"in t&&n(3,i=t.$$scope)},[a,o,s,i,r,()=>n(2,s=!0),()=>n(2,s=!1)]}class aa extends J{constructor(t){super(),X(this,t,ia,ra,a,{name:0,help:1})}}function oa(t,e,n){const r=t.slice();return r[6]=e[n],r}function sa(t){let e,n,i,a,o,s,l,c,f=t[6]+"";return{c(){e=v("label"),n=v("input"),a=y(),o=b(f),s=y(),L(n,"type","radio"),n.__value=i=t[6],n.value=n.__value,t[4][0].push(n),L(e,"class","svelte-18hp1ew")},m(r,i){d(r,e,i),h(e,n),n.checked=n.__value===t[0],h(e,a),h(e,o),h(e,s),l||(c=[_(n,"change",t[3]),_(n,"change",t[5])],l=!0)},p(t,e){1&e&&(n.checked=n.__value===t[0])},d(i){i&&p(e),t[4][0].splice(t[4][0].indexOf(n),1),l=!1,r(c)}}}function la(t){let e,n=t[2],r=[];for(let e=0;e<n.length;e+=1)r[e]=sa(oa(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=w()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);d(t,e,n)},p(t,i){if(7&i){let a;for(n=t[2],a=0;a<n.length;a+=1){const o=oa(t,n,a);r[a]?r[a].p(o,i):(r[a]=sa(o),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){g(r,t),t&&p(e)}}}function ca(t){let e,n;return e=new aa({props:{name:"Method",help:"<p><strong>Quantiles</strong> creates breaks among roughly the same amount of records.</p>\n    <p><strong>Quantize</strong> will divide the breaks among equal intervals. The nice variant will try to create better-looking intervals.</p>\n    <p><strong>Ckmeans</strong> is a clustering algorithm that will minimise differences between groups.</p>",$$slots:{default:[la]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(t,r){Y(e,t,r),n=!0},p(t,[n]){const r={};515&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function fa(t,e,n){let r;o(t,Fe,(t=>n(1,r=t)));let i="quantiles";return[i,r,["quantiles","quantize","quantize (nice)","ckmeans"],function(){i=this.__value,n(0,i)},[[]],()=>u(Fe,r=i,r)]}class ua extends J{constructor(t){super(),X(this,t,fa,ca,a,{})}}function ha(t){let e,n,i,a,o,l,u,g,w,x,k,W,E,S,A,N;const C=t[4].default,R=s(C,t,t[3],null);return{c(){e=v("div"),n=v("div"),i=v("div"),a=y(),o=v("div"),l=b(t[0]),u=y(),g=v("div"),w=m("svg"),x=m("path"),k=m("path"),E=y(),R&&R.c(),L(i,"class","help-tooltip svelte-1hyltr5"),$(i,"display",t[2]?"block":"none"),L(o,"class","setting-name svelte-1hyltr5"),L(x,"d","M0 0h24v24H0z"),L(x,"fill","none"),L(k,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"),L(w,"xmlns","http://www.w3.org/2000/svg"),L(w,"height","18"),L(w,"viewBox","0 0 24 24"),L(w,"width","18"),L(w,"class","svelte-1hyltr5"),L(g,"class",W=f(["setting-help",t[2]?"active":""].join(" "))+" svelte-1hyltr5"),L(n,"class","setting-title svelte-1hyltr5"),L(e,"class","setting-group svelte-1hyltr5")},m(r,s){d(r,e,s),h(e,n),h(n,i),i.innerHTML=t[1],h(n,a),h(n,o),h(o,l),h(n,u),h(n,g),h(g,w),h(w,x),h(w,k),h(e,E),R&&R.m(e,null),S=!0,A||(N=[_(g,"mousemove",t[5]),_(g,"mouseleave",t[6])],A=!0)},p(t,[e]){(!S||2&e)&&(i.innerHTML=t[1]),(!S||4&e)&&$(i,"display",t[2]?"block":"none"),(!S||1&e)&&M(l,t[0]),(!S||4&e&&W!==(W=f(["setting-help",t[2]?"active":""].join(" "))+" svelte-1hyltr5"))&&L(g,"class",W),R&&R.p&&8&e&&c(R,C,t,t[3],e,null,null)},i(t){S||(V(R,t),S=!0)},o(t){G(R,t),S=!1},d(t){t&&p(e),R&&R.d(t),A=!1,r(N)}}}function da(t,e,n){let{$$slots:r={},$$scope:i}=e,{name:a="Setting"}=e,{help:o="This is some help text"}=e,s=!1;return t.$$set=t=>{"name"in t&&n(0,a=t.name),"help"in t&&n(1,o=t.help),"$$scope"in t&&n(3,i=t.$$scope)},[a,o,s,i,r,()=>n(2,s=!0),()=>n(2,s=!1)]}class pa extends J{constructor(t){super(),X(this,t,da,ha,a,{name:0,help:1})}}function ga(t){let e,n,r;return{c(){e=v("input"),L(e,"id","breaks"),L(e,"type","number"),L(e,"min",ma),L(e,"max",t[0]),e.value=t[1],L(e,"class","svelte-19t4i4x")},m(i,a){d(i,e,a),n||(r=_(e,"change",t[2]),n=!0)},p(t,n){1&n&&L(e,"max",t[0]),2&n&&(e.value=t[1])},d(t){t&&p(e),n=!1,r()}}}function va(t){let e,n;return e=new pa({props:{name:"Number of breaks",help:"<p>Adding more breaks to a scale decreases the degree of generalisation.</p>\n  <p>However, having too many can make the graphic harder to understand and obscure general trends.</p>",$$slots:{default:[ga]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(t,r){Y(e,t,r),n=!0},p(t,[n]){const r={};19&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}let ma=3;function ba(t,e,n){let r,i,a;return o(t,Ue,(t=>n(3,r=t))),o(t,He,(t=>n(1,i=t))),t.$$.update=()=>{8&t.$$.dirty&&n(0,a=r.scheme[r.scheme.length-1].length-1)},[a,i,function(t){const e=+t.target.value;if(!(e<ma||e>a))return u(He,i=+t.target.value,i)}]}class ya extends J{constructor(t){super(),X(this,t,ba,va,a,{})}}function wa(t,e,n){const r=t.slice();return r[9]=e[n],r}function _a(t,e,n){const r=t.slice();return r[6]=e[n],r}function xa(t,e,n){const r=t.slice();return r[12]=e[n],r}function La(e){let n,r,i,a=e[12].name+"";return{c(){n=v("option"),r=b(a),n.__value=i=e[12],n.value=n.__value},m(t,e){d(t,n,e),h(n,r)},p:t,d(t){t&&p(n)}}}function Ma(t){let e;return{c(){e=v("div"),$(e,"width",100/t[1]+1+"%"),$(e,"height","12px"),$(e,"background",t[9])},m(t,n){d(t,e,n)},p(t,n){2&n&&$(e,"width",100/t[1]+1+"%"),3&n&&$(e,"background",t[9])},d(t){t&&p(e)}}}function $a(t){let e,n,r,i,a,o,s,l,c,u,m,w,x,$,k=t[6].name+"",W=t[6].scheme[t[1]+1],E=[];for(let e=0;e<W.length;e+=1)E[e]=Ma(wa(t,W,e));function S(...e){return t[5](t[6],...e)}return{c(){e=v("div"),n=v("div"),r=v("label"),i=v("input"),s=y(),l=b(k),c=y(),u=v("div");for(let t=0;t<E.length;t+=1)E[t].c();m=y(),L(i,"type","radio"),i.checked=a=t[2].name===t[6].name,i.value=o=t[6].name,L(r,"class","svelte-10oez4g"),L(n,"class","colour-title svelte-10oez4g"),L(u,"class","colour-scale svelte-10oez4g"),L(e,"class",w=f(["colour-scheme",t[2].name===t[6].name?"active":""].join(" "))+" svelte-10oez4g")},m(t,a){d(t,e,a),h(e,n),h(n,r),h(r,i),h(r,s),h(r,l),h(e,c),h(e,u);for(let t=0;t<E.length;t+=1)E[t].m(u,null);h(e,m),x||($=_(e,"click",S),x=!0)},p(n,r){if(t=n,5&r&&a!==(a=t[2].name===t[6].name)&&(i.checked=a),1&r&&o!==(o=t[6].name)&&(i.value=o),1&r&&k!==(k=t[6].name+"")&&M(l,k),3&r){let e;for(W=t[6].scheme[t[1]+1],e=0;e<W.length;e+=1){const n=wa(t,W,e);E[e]?E[e].p(n,r):(E[e]=Ma(n),E[e].c(),E[e].m(u,null))}for(;e<E.length;e+=1)E[e].d(1);E.length=W.length}5&r&&w!==(w=f(["colour-scheme",t[2].name===t[6].name?"active":""].join(" "))+" svelte-10oez4g")&&L(e,"class",w)},d(t){t&&p(e),g(E,t),x=!1,$()}}}function ka(t){let e,n,i,a,o,s=ze,l=[];for(let e=0;e<s.length;e+=1)l[e]=La(xa(t,s,e));let c=t[0].scales,f=[];for(let e=0;e<c.length;e+=1)f[e]=$a(_a(t,c,e));return{c(){e=v("select");for(let t=0;t<l.length;t+=1)l[t].c();n=y(),i=v("div");for(let t=0;t<f.length;t+=1)f[t].c();L(e,"selected",t[0]),L(e,"class","svelte-10oez4g"),void 0===t[0]&&z((()=>t[4].call(e))),L(i,"class","colour-schemes")},m(r,s){d(r,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null);k(e,t[0]),d(r,n,s),d(r,i,s);for(let t=0;t<f.length;t+=1)f[t].m(i,null);a||(o=[_(e,"change",t[4]),_(e,"change",t[3]),_(e,"blur",t[3])],a=!0)},p(t,n){if(0&n){let r;for(s=ze,r=0;r<s.length;r+=1){const i=xa(t,s,r);l[r]?l[r].p(i,n):(l[r]=La(i),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}if(1&n&&L(e,"selected",t[0]),1&n&&k(e,t[0]),7&n){let e;for(c=t[0].scales,e=0;e<c.length;e+=1){const r=_a(t,c,e);f[e]?f[e].p(r,n):(f[e]=$a(r),f[e].c(),f[e].m(i,null))}for(;e<f.length;e+=1)f[e].d(1);f.length=c.length}},d(t){t&&p(e),g(l,t),t&&p(n),t&&p(i),g(f,t),a=!1,r(o)}}}function Wa(t){let e,n;return e=new aa({props:{name:"Colour scale",help:"<p><strong>Sequential</strong> colours are meant for data that progresses from low to high.</p>\n  <p><strong>Sequential multi-hue</strong> scales have richer colours and in general have better contrast.</p>\n  <p><strong>Diverging</strong> scales accentuate middle and extreme values.</p>",$$slots:{default:[ka]},$$scope:{ctx:t}}}),{c(){K(e.$$.fragment)},m(t,r){Y(e,t,r),n=!0},p(t,[n]){const r={};32775&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(V(e.$$.fragment,t),n=!0)},o(t){G(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ea(t,e,n){let r,i;o(t,He,(t=>n(1,r=t))),o(t,Ue,(t=>n(2,i=t)));let a=ze[0];return[a,r,i,function(){const t=a.scales[0],e=t.scheme[t.scheme.length-1].length;r+1>e&&He.set(e-1),Ue.set(a.scales[0])},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,a)},t=>Ue.set(t)]}class Sa extends J{constructor(t){super(),X(this,t,Ea,Wa,a,{})}}function Aa(t,e,n){const r=t.slice();return r[5]=e[n],r}function Na(t){let e,n,r,i,a,o=t[2](t[0].standardDeviation)+"",s=t[0].statistics,l=[];for(let e=0;e<s.length;e+=1)l[e]=Ca(Aa(t,s,e));return{c(){e=v("div"),n=b("Standard deviation\n      "),r=b(o),i=y(),a=v("div");for(let t=0;t<l.length;t+=1)l[t].c();L(e,"class","standard-deviation svelte-f2pd6v"),L(a,"class","flex svelte-f2pd6v")},m(t,o){d(t,e,o),h(e,n),h(e,r),d(t,i,o),d(t,a,o);for(let t=0;t<l.length;t+=1)l[t].m(a,null)},p(t,e){if(1&e&&o!==(o=t[2](t[0].standardDeviation)+"")&&M(r,o),3&e){let n;for(s=t[0].statistics,n=0;n<s.length;n+=1){const r=Aa(t,s,n);l[n]?l[n].p(r,e):(l[n]=Ca(r),l[n].c(),l[n].m(a,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(t){t&&p(e),t&&p(i),t&&p(a),g(l,t)}}}function Ca(t){let e,n,r,i,a,o,s,l,c,f,u,g,m=t[5].label+"";return{c(){e=v("div"),n=v("input"),a=y(),o=v("label"),s=b("Show\n            "),l=b(m),f=y(),L(n,"type","checkbox"),L(n,"id",r=t[5].label),n.__value=i=t[5].label,n.value=n.__value,t[4][0].push(n),L(o,"for",c=t[5].label),L(o,"class","setting-name"),L(e,"class","statistic svelte-f2pd6v")},m(r,i){d(r,e,i),h(e,n),n.checked=~t[1].indexOf(n.__value),h(e,a),h(e,o),h(o,s),h(o,l),h(e,f),u||(g=_(n,"change",t[3]),u=!0)},p(t,e){1&e&&r!==(r=t[5].label)&&L(n,"id",r),1&e&&i!==(i=t[5].label)&&(n.__value=i,n.value=n.__value),2&e&&(n.checked=~t[1].indexOf(n.__value)),1&e&&m!==(m=t[5].label+"")&&M(l,m),1&e&&c!==(c=t[5].label)&&L(o,"for",c)},d(r){r&&p(e),t[4][0].splice(t[4][0].indexOf(n),1),u=!1,g()}}}function Ra(e){let n,r=e[0]&&Na(e);return{c(){n=v("div"),r&&r.c(),L(n,"class","statistics svelte-f2pd6v")},m(t,e){d(t,n,e),r&&r.m(n,null)},p(t,[e]){t[0]?r?r.p(t,e):(r=Na(t),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:t,o:t,d(t){t&&p(n),r&&r.d()}}}function Ta(t,e,n){let r,i;o(t,Ke,(t=>n(0,r=t))),o(t,Ge,(t=>n(1,i=t)));const a=wn(".2f"),s=[[]];return[r,i,a,function(){i=function(t,e,n){const r=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&r.add(t[e].__value);return n||r.delete(e),Array.from(r)}(s[0],this.__value,this.checked),Ge.set(i)},s]}class ja extends J{constructor(t){super(),X(this,t,Ta,Ra,a,{})}}function qa(t,e,n){const r=t.slice();return r[6]=e[n],r}function za(t){let e,n,r,i,a,o,s,l,c,f,u,g,v,y,w,_=t[6].label+"",x=(t[6].value>100?t[4](t[6].value):t[5](t[6].value))+"",$=t[6].label+"",k=(t[6].value>100?t[4](t[6].value):t[5](t[6].value))+"";return{c(){e=m("g"),n=m("path"),r=m("text"),i=b(_),a=b(" "),o=b(x),c=m("text"),f=b($),u=b(" "),g=b(k),L(n,"transform","translate(-3,6)"),L(n,"d","M0 0 L 6 0 L 3 -6Z"),L(r,"text-anchor","middle"),L(r,"dy",s=18),L(r,"stroke-width",l=6),L(r,"fill","none"),L(r,"stroke","white"),L(r,"stroke-linejoin","round"),L(c,"text-anchor","middle"),L(c,"dy",v=18),L(e,"opacity",y=t[3].includes(t[6].label)?1:0),L(e,"transform",w=`translate(${t[0](t[6].value)},${t[1]})`)},m(t,s){d(t,e,s),h(e,n),h(e,r),h(r,i),h(r,a),h(r,o),h(e,c),h(c,f),h(c,u),h(c,g)},p(t,n){4&n&&_!==(_=t[6].label+"")&&M(i,_),4&n&&x!==(x=(t[6].value>100?t[4](t[6].value):t[5](t[6].value))+"")&&M(o,x),4&n&&$!==($=t[6].label+"")&&M(f,$),4&n&&k!==(k=(t[6].value>100?t[4](t[6].value):t[5](t[6].value))+"")&&M(g,k),12&n&&y!==(y=t[3].includes(t[6].label)?1:0)&&L(e,"opacity",y),7&n&&w!==(w=`translate(${t[0](t[6].value)},${t[1]})`)&&L(e,"transform",w)},d(t){t&&p(e)}}}function Pa(e){let n,r=Ie&&function(t){let e,n=t[2].statistics,r=[];for(let e=0;e<n.length;e+=1)r[e]=za(qa(t,n,e));return{c(){e=m("g");for(let t=0;t<r.length;t+=1)r[t].c();L(e,"class","statistics svelte-113n0f")},m(t,n){d(t,e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null)},p(t,i){if(63&i){let a;for(n=t[2].statistics,a=0;a<n.length;a+=1){const o=qa(t,n,a);r[a]?r[a].p(o,i):(r[a]=za(o),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(t){t&&p(e),g(r,t)}}}(e);return{c(){r&&r.c(),n=w()},m(t,e){r&&r.m(t,e),d(t,n,e)},p(t,[e]){Ie&&r.p(t,e)},i:t,o:t,d(t){r&&r.d(t),t&&p(n)}}}function Oa(t,e,n){let r,i;o(t,Ke,(t=>n(2,r=t))),o(t,Ge,(t=>n(3,i=t)));let{x:a}=e,{height:s}=e;const l=wn(",.0f"),c=wn(".2~f");return t.$$set=t=>{"x"in t&&n(0,a=t.x),"height"in t&&n(1,s=t.height)},[a,s,r,i,l,c]}class Ia extends J{constructor(t){super(),X(this,t,Oa,Pa,a,{x:0,height:1})}}function Da(t,e,n){const r=t.slice();return r[28]=e[n],r}function Ua(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function Fa(t,e,n){const r=t.slice();return r[28]=e[n],r}function Ba(t,e,n){const r=t.slice();return r[31]=e[n],r[33]=n,r}function Ha(t,e,n){const r=t.slice();return r[31]=e[n],r}function Va(t){let e,n,r,i,a,o,s,l=(t[31]>100?t[14](t[31]):t[15](t[31]))+"";return{c(){e=m("g"),n=m("line"),i=m("text"),a=b(l),L(n,"y2",r=6),L(n,"class","svelte-kb1026"),L(i,"text-anchor","middle"),L(i,"dy",o=20),L(e,"class","tick svelte-kb1026"),L(e,"transform",s=`translate(${t[0](t[31])},0)`)},m(t,r){d(t,e,r),h(e,n),h(e,i),h(i,a)},p(t,n){8&n[0]&&l!==(l=(t[31]>100?t[14](t[31]):t[15](t[31]))+"")&&M(a,l),9&n[0]&&s!==(s=`translate(${t[0](t[31])},0)`)&&L(e,"transform",s)},d(t){t&&p(e)}}}function Ga(t){let e,n,r;return{c(){e=m("g"),n=m("line"),L(n,"x2",t[9]),L(n,"class","svelte-kb1026"),L(e,"class","tick svelte-kb1026"),L(e,"transform",r=`translate(0,${t[1](t[31])})`)},m(t,r){d(t,e,r),h(e,n)},p(t,i){512&i[0]&&L(n,"x2",t[9]),18&i[0]&&r!==(r=`translate(0,${t[1](t[31])})`)&&L(e,"transform",r)},d(t){t&&p(e)}}}function Ka(t){let e,n,r,i,a,o,s,l;return{c(){e=m("g"),n=m("rect"),L(n,"width",r=Math.max(0,t[0](t[28].x1)-t[0](t[28].x0)-1)),L(n,"height",i=t[10]-t[1](t[28].length)),L(n,"fill",a=t[2](Ti(t[28]))),L(n,"stroke",o=t[6]?t[6].x0===t[28].x0&&"black":"white"),L(n,"stroke-width",s=t[6]?t[6].x0===t[28].x0&&1.5:.25),L(e,"transform",l=`translate(${t[0](t[28].x0)},${t[1](t[28].length)})`)},m(t,r){d(t,e,r),h(e,n)},p(t,c){33&c[0]&&r!==(r=Math.max(0,t[0](t[28].x1)-t[0](t[28].x0)-1))&&L(n,"width",r),1058&c[0]&&i!==(i=t[10]-t[1](t[28].length))&&L(n,"height",i),36&c[0]&&a!==(a=t[2](Ti(t[28])))&&L(n,"fill",a),96&c[0]&&o!==(o=t[6]?t[6].x0===t[28].x0&&"black":"white")&&L(n,"stroke",o),96&c[0]&&s!==(s=t[6]?t[6].x0===t[28].x0&&1.5:.25)&&L(n,"stroke-width",s),35&c[0]&&l!==(l=`translate(${t[0](t[28].x0)},${t[1](t[28].length)})`)&&L(e,"transform",l)},d(t){t&&p(e)}}}function Ya(t){let e,n,r,i,a,o,s,l,c=t[14](t[31])+"",f=t[4].length-1===t[33]?"records":"";return{c(){e=m("g"),n=m("text"),r=b(c),i=b(" "),a=b(f),L(n,"text-anchor","start"),L(n,"dy",o=-5),L(n,"dx",s=0),L(e,"class","tick"),L(e,"transform",l=`translate(0,${t[1](t[31])})`)},m(t,o){d(t,e,o),h(e,n),h(n,r),h(n,i),h(n,a)},p(t,n){16&n[0]&&c!==(c=t[14](t[31])+"")&&M(r,c),16&n[0]&&f!==(f=t[4].length-1===t[33]?"records":"")&&M(a,f),18&n[0]&&l!==(l=`translate(0,${t[1](t[31])})`)&&L(e,"transform",l)},d(t){t&&p(e)}}}function Za(t){let e,n,r,i,a,o,s,l=(t[28]>100?t[14](t[28]):t[15](t[28]))+"";return{c(){e=m("g"),n=m("line"),i=m("text"),a=b(l),L(n,"y1",r=-12),L(n,"y2",t[10]),L(n,"class","svelte-kb1026"),L(i,"text-anchor","middle"),L(i,"dy",o=-20),L(i,"class","svelte-kb1026"),L(e,"transform",s=`translate(${t[0](t[28])},0)`)},m(t,r){d(t,e,r),h(e,n),h(e,i),h(i,a)},p(t,r){1024&r[0]&&L(n,"y2",t[10]),12288&r[0]&&l!==(l=(t[28]>100?t[14](t[28]):t[15](t[28]))+"")&&M(a,l),12289&r[0]&&s!==(s=`translate(${t[0](t[28])},0)`)&&L(e,"transform",s)},d(t){t&&p(e)}}}function Qa(t){let e,n,r,i,a,o,s,l,c,f,u,g=1===t[6].value?"is":"are",m=t[16](t[6].value)+"",w=1===t[6].value?"":"s",_=(t[6].x0>100?t[14](t[6].x0):t[15](t[6].x0))+"",x=(t[6].x1>100?t[14](t[6].x1):t[15](t[6].x1))+"";return{c(){e=v("div"),n=b("There\n      "),r=b(g),i=y(),a=b(m),o=b("\n      record"),s=b(w),l=b("\n      between\n      "),c=b(_),f=b("\n      and\n      "),u=b(x),L(e,"class","tooltip svelte-kb1026"),$(e,"left",t[6].mx+"px"),$(e,"top",t[6].my-10+"px")},m(t,p){d(t,e,p),h(e,n),h(e,r),h(e,i),h(e,a),h(e,o),h(e,s),h(e,l),h(e,c),h(e,f),h(e,u)},p(t,n){64&n[0]&&g!==(g=1===t[6].value?"is":"are")&&M(r,g),64&n[0]&&m!==(m=t[16](t[6].value)+"")&&M(a,m),64&n[0]&&w!==(w=1===t[6].value?"":"s")&&M(s,w),64&n[0]&&_!==(_=(t[6].x0>100?t[14](t[6].x0):t[15](t[6].x0))+"")&&M(c,_),64&n[0]&&x!==(x=(t[6].x1>100?t[14](t[6].x1):t[15](t[6].x1))+"")&&M(u,x),64&n[0]&&$(e,"left",t[6].mx+"px"),64&n[0]&&$(e,"top",t[6].my-10+"px")},d(t){t&&p(e)}}}function Xa(t){let e,n,i,a,o,s,l,c,f,u,w,x,$,k,W,E,S,A,N,C,R,T,j,q=t[11].column+"";z(t[20]);let P=t[3],O=[];for(let e=0;e<P.length;e+=1)O[e]=Va(Ha(t,P,e));let I=t[4],D=[];for(let e=0;e<I.length;e+=1)D[e]=Ga(Ba(t,I,e));let U=t[5],F=[];for(let e=0;e<U.length;e+=1)F[e]=Ka(Fa(t,U,e));let B=t[4],H=[];for(let e=0;e<B.length;e+=1)H[e]=Ya(Ua(t,B,e));let Q=t[12][t[13]],X=[];for(let e=0;e<Q.length;e+=1)X[e]=Za(Da(t,Q,e));k=new Ia({props:{x:t[0],height:t[10]}});let J=t[6]&&Qa(t);return{c(){e=v("div"),n=m("svg"),i=m("g"),a=m("g");for(let t=0;t<O.length;t+=1)O[t].c();o=m("text"),s=b(q),u=m("g");for(let t=0;t<D.length;t+=1)D[t].c();w=m("g");for(let t=0;t<F.length;t+=1)F[t].c();x=m("g");for(let t=0;t<H.length;t+=1)H[t].c();$=m("g");for(let t=0;t<X.length;t+=1)X[t].c();K(k.$$.fragment),W=m("line"),E=m("rect"),C=y(),J&&J.c(),L(o,"class","column-name svelte-kb1026"),L(o,"x",l=t[9]/2),L(o,"dy",c=40),L(a,"class","x axis svelte-kb1026"),L(a,"transform",f=`translate(0,${t[10]})`),L(u,"class","y axis svelte-kb1026"),L(x,"class","y axis svelte-kb1026"),L($,"class","breaks svelte-kb1026"),L(W,"class","zero svelte-kb1026"),L(W,"y1",t[10]),L(W,"y2",t[10]),L(W,"x2",t[9]),L(E,"fill","transparent"),L(E,"width",t[9]),L(E,"height",t[10]),L(i,"transform",S=`translate(${t[17].left},${t[17].top})`),L(n,"width",A=t[9]+t[17].right+t[17].left),L(n,"height",N=t[10]+t[17].top+t[17].bottom),L(e,"class","container svelte-kb1026")},m(r,l){d(r,e,l),h(e,n),h(n,i),h(i,a);for(let t=0;t<O.length;t+=1)O[t].m(a,null);h(a,o),h(o,s),h(i,u);for(let t=0;t<D.length;t+=1)D[t].m(u,null);h(i,w);for(let t=0;t<F.length;t+=1)F[t].m(w,null);h(i,x);for(let t=0;t<H.length;t+=1)H[t].m(x,null);h(i,$);for(let t=0;t<X.length;t+=1)X[t].m($,null);Y(k,i,null),h(i,W),h(i,E),h(e,C),J&&J.m(e,null),t[22](e),R=!0,T||(j=[_(window,"resize",t[18]),_(window,"resize",t[20]),_(E,"mousemove",t[19]),_(E,"mouseleave",t[21])],T=!0)},p(t,r){if(49161&r[0]){let e;for(P=t[3],e=0;e<P.length;e+=1){const n=Ha(t,P,e);O[e]?O[e].p(n,r):(O[e]=Va(n),O[e].c(),O[e].m(a,o))}for(;e<O.length;e+=1)O[e].d(1);O.length=P.length}if((!R||2048&r[0])&&q!==(q=t[11].column+"")&&M(s,q),(!R||512&r[0]&&l!==(l=t[9]/2))&&L(o,"x",l),(!R||1024&r[0]&&f!==(f=`translate(0,${t[10]})`))&&L(a,"transform",f),530&r[0]){let e;for(I=t[4],e=0;e<I.length;e+=1){const n=Ba(t,I,e);D[e]?D[e].p(n,r):(D[e]=Ga(n),D[e].c(),D[e].m(u,null))}for(;e<D.length;e+=1)D[e].d(1);D.length=I.length}if(1127&r[0]){let e;for(U=t[5],e=0;e<U.length;e+=1){const n=Fa(t,U,e);F[e]?F[e].p(n,r):(F[e]=Ka(n),F[e].c(),F[e].m(w,null))}for(;e<F.length;e+=1)F[e].d(1);F.length=U.length}if(16402&r[0]){let e;for(B=t[4],e=0;e<B.length;e+=1){const n=Ua(t,B,e);H[e]?H[e].p(n,r):(H[e]=Ya(n),H[e].c(),H[e].m(x,null))}for(;e<H.length;e+=1)H[e].d(1);H.length=B.length}if(62465&r[0]){let e;for(Q=t[12][t[13]],e=0;e<Q.length;e+=1){const n=Da(t,Q,e);X[e]?X[e].p(n,r):(X[e]=Za(n),X[e].c(),X[e].m($,null))}for(;e<X.length;e+=1)X[e].d(1);X.length=Q.length}const i={};1&r[0]&&(i.x=t[0]),1024&r[0]&&(i.height=t[10]),k.$set(i),(!R||1024&r[0])&&L(W,"y1",t[10]),(!R||1024&r[0])&&L(W,"y2",t[10]),(!R||512&r[0])&&L(W,"x2",t[9]),(!R||512&r[0])&&L(E,"width",t[9]),(!R||1024&r[0])&&L(E,"height",t[10]),(!R||512&r[0]&&A!==(A=t[9]+t[17].right+t[17].left))&&L(n,"width",A),(!R||1024&r[0]&&N!==(N=t[10]+t[17].top+t[17].bottom))&&L(n,"height",N),t[6]?J?J.p(t,r):(J=Qa(t),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},i(t){R||(V(k.$$.fragment,t),R=!0)},o(t){G(k.$$.fragment,t),R=!1},d(n){n&&p(e),g(O,n),g(D,n),g(F,n),g(H,n),g(X,n),Z(k),J&&J.d(),t[22](null),T=!1,r(j)}}}function Ja(t,e,n){let r,i,a,s,l;o(t,Ie,(t=>n(11,r=t))),o(t,Ve,(t=>n(24,i=t))),o(t,Be,(t=>n(25,a=t))),o(t,Ke,(t=>n(12,s=t))),o(t,Fe,(t=>n(13,l=t)));const c=wn(",.0f"),f=wn(".2~f"),u=wn(",");let h,d,p,g,v,m,b,y,w,_,x,L;const M={top:35,right:20,bottom:50,left:20},$=yi((t=>t)).right,k=Ji().range([0,140]);function W(){const t=w.getBoundingClientRect().width,e=_<600?.6:_<960?.35:.5;n(9,x=t-M.right-M.left),n(10,L=Math.min(t*e,400)-M.top-M.bottom),k.domain([0,x])}A((()=>{W()}));return t.$$.update=()=>{50335267&t.$$.dirty[0]&&r&&(n(0,h=Ji().range([0,x]).domain(xi(r.data,(t=>t)))),n(5,m=Ri().domain(h.domain()).thresholds(i)(r.data)),Ye.set(m),b=m.map((t=>t.x1)),n(1,d=Ji().domain([0,Ti(m,(t=>t.length))]).range([L,0])),n(2,p=a),n(3,g=h.ticks(6)),n(4,v=d.ticks(6)))},[h,d,p,g,v,m,y,w,_,x,L,r,s,l,c,f,u,M,W,function(t){const[e,r]=qr(t),i=$(b,h.invert(e));i>m.length-1||n(6,y={mx:e-k(e),my:r,value:m[i].length,x0:m[i].x0,x1:m[i].x1})},function(){n(8,_=window.innerWidth)},()=>n(6,y=null),function(t){C[t?"unshift":"push"]((()=>{w=t,n(7,w)}))}]}class to extends J{constructor(t){super(),X(this,t,Ja,Xa,a,{},[-1,-1])}}var eo=1e-6,no=Math.PI,ro=no/2,io=no/4,ao=2*no,oo=180/no,so=no/180,lo=Math.abs,co=Math.atan,fo=Math.atan2,uo=Math.cos,ho=Math.exp,po=Math.log,go=Math.sin,vo=Math.sign||function(t){return t>0?1:t<0?-1:0},mo=Math.sqrt,bo=Math.tan;function yo(t){return t>1?ro:t<-1?-ro:Math.asin(t)}function wo(){}function _o(t,e){t&&Lo.hasOwnProperty(t.type)&&Lo[t.type](t,e)}var xo={Feature:function(t,e){_o(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_o(n[r].geometry,e)}},Lo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mo(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Mo(n[r],e,0)},Polygon:function(t,e){$o(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)$o(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_o(n[r],e)}};function Mo(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function $o(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Mo(t[n],e,1);e.polygonEnd()}function ko(t,e){t&&xo.hasOwnProperty(t.type)?xo[t.type](t,e):_o(t,e)}function Wo(t){return[fo(t[1],t[0]),yo(t[2])]}function Eo(t){var e=t[0],n=t[1],r=uo(n);return[r*uo(e),r*go(e),go(n)]}function So(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ao(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function No(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Co(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ro(t){var e=mo(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function To(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function jo(t,e){return[lo(t)>no?t+Math.round(-t/ao)*ao:t,e]}function qo(t,e,n){return(t%=ao)?e||n?To(Po(t),Oo(e,n)):Po(t):e||n?Oo(e,n):jo}function zo(t){return function(e,n){return[(e+=t)>no?e-ao:e<-no?e+ao:e,n]}}function Po(t){var e=zo(t);return e.invert=zo(-t),e}function Oo(t,e){var n=uo(t),r=go(t),i=uo(e),a=go(e);function o(t,e){var o=uo(e),s=uo(t)*o,l=go(t)*o,c=go(e),f=c*n+s*r;return[fo(l*i-f*a,s*n-c*r),yo(f*i+l*a)]}return o.invert=function(t,e){var o=uo(e),s=uo(t)*o,l=go(t)*o,c=go(e),f=c*i-l*a;return[fo(l*i+c*a,s*n+f*r),yo(f*n-s*r)]},o}function Io(t,e){(e=Eo(e))[0]-=t,Ro(e);var n=function(t){return t>1?0:t<-1?no:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+ao-eo)%ao}function Do(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:wo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Uo(t,e){return lo(t[0]-e[0])<eo&&lo(t[1]-e[1])<eo}function Fo(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Bo(t,e,n,r,i){var a,o,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(Uo(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}s.push(n=new Fo(r,t,null,!0)),l.push(n.o=new Fo(r,null,n,!1)),s.push(n=new Fo(o,t,null,!1)),l.push(n.o=new Fo(o,null,n,!0))}})),s.length){for(l.sort(e),Ho(s),Ho(l),a=0,o=l.length;a<o;++a)l[a].e=n=!n;for(var c,f,u=s[0];;){for(var h=u,d=!0;h.v;)if((h=h.n)===u)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=c.length;a<o;++a)i.point((f=c[a])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,a=c.length-1;a>=0;--a)i.point((f=c[a])[0],f[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function Ho(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Vo(t){return lo(t[0])<=no?t[0]:vo(t[0])*((lo(t[0])+no)%ao-no)}function Go(t,e,n,r){return function(i){var a,o,s,l=e(i),c=Do(),f=e(c),u=!1,h={point:d,lineStart:g,lineEnd:v,polygonStart:function(){h.point=m,h.lineStart=b,h.lineEnd=y,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=v,o=Ii(o);var t=function(t,e){var n=Vo(e),r=e[1],i=go(r),a=[go(n),-uo(n),0],o=0,s=0,l=new Li;1===i?r=ro+eo:-1===i&&(r=-ro-eo);for(var c=0,f=t.length;c<f;++c)if(h=(u=t[c]).length)for(var u,h,d=u[h-1],p=Vo(d),g=d[1]/2+io,v=go(g),m=uo(g),b=0;b<h;++b,p=w,v=x,m=L,d=y){var y=u[b],w=Vo(y),_=y[1]/2+io,x=go(_),L=uo(_),M=w-p,$=M>=0?1:-1,k=$*M,W=k>no,E=v*x;if(l.add(fo(E*$*go(k),m*L+E*uo(k))),o+=W?M+$*ao:M,W^p>=n^w>=n){var S=Ao(Eo(d),Eo(y));Ro(S);var A=Ao(a,S);Ro(A);var N=(W^M>=0?-1:1)*yo(A[2]);(r>N||r===N&&(S[0]||S[1]))&&(s+=W^M>=0?1:-1)}}return(o<-eo||o<eo&&l<-1e-12)^1&s}(a,r);o.length?(u||(i.polygonStart(),u=!0),Bo(o,Yo,t,n,i)):t&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function g(){h.point=p,l.lineStart()}function v(){h.point=d,l.lineEnd()}function m(t,e){s.push([t,e]),f.point(t,e)}function b(){f.lineStart(),s=[]}function y(){m(s[0][0],s[0][1]),f.lineEnd();var t,e,n,r,l=f.clean(),h=c.result(),d=h.length;if(s.pop(),a.push(s),s=null,d)if(1&l){if((e=(n=h[0]).length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else d>1&&2&l&&h.push(h.pop().concat(h.shift())),o.push(h.filter(Ko))}return h}}function Ko(t){return t.length>1}function Yo(t,e){return((t=t.x)[0]<0?t[1]-ro-eo:ro-t[1])-((e=e.x)[0]<0?e[1]-ro-eo:ro-e[1])}jo.invert=jo;var Zo=Go((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?no:-no,l=lo(a-n);lo(l-no)<eo?(t.point(n,r=(r+o)/2>0?ro:-ro),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&l>=no&&(lo(n-i)<eo&&(n-=i*eo),lo(a-s)<eo&&(a-=s*eo),r=function(t,e,n,r){var i,a,o=go(t-n);return lo(o)>eo?co((go(e)*(a=uo(r))*go(n)-go(r)*(i=uo(e))*go(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*ro,r.point(-no,i),r.point(0,i),r.point(no,i),r.point(no,0),r.point(no,-i),r.point(0,-i),r.point(-no,-i),r.point(-no,0),r.point(-no,i);else if(lo(t[0]-e[0])>eo){var a=t[0]<e[0]?no:-no;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-no,-ro]);function Qo(t){var e=uo(t),n=6*so,r=e>0,i=lo(e)>eo;function a(t,n){return uo(t)*uo(n)>e}function o(t,n,r){var i=[1,0,0],a=Ao(Eo(t),Eo(n)),o=So(a,a),s=a[0],l=o-s*s;if(!l)return!r&&t;var c=e*o/l,f=-e*s/l,u=Ao(i,a),h=Co(i,c);No(h,Co(a,f));var d=u,p=So(h,d),g=So(d,d),v=p*p-g*(So(h,h)-1);if(!(v<0)){var m=mo(v),b=Co(d,(-p-m)/g);if(No(b,h),b=Wo(b),!r)return b;var y,w=t[0],_=n[0],x=t[1],L=n[1];_<w&&(y=w,w=_,_=y);var M=_-w,$=lo(M-no)<eo;if(!$&&L<x&&(y=x,x=L,L=y),$||M<eo?$?x+L>0^b[1]<(lo(b[0]-w)<eo?x:L):x<=b[1]&&b[1]<=L:M>no^(w<=b[0]&&b[0]<=_)){var k=Co(d,(-p+m)/g);return No(k,h),[b,Wo(k)]}}}function s(e,n){var i=r?t:no-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return Go(a,(function(t){var e,n,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(u,h){var d,p=[u,h],g=a(u,h),v=r?g?0:s(u,h):g?s(u+(u<0?no:-no),h):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(d=o(e,p))||Uo(e,d)||Uo(p,d))&&(p[2]=1),g!==l)f=0,g?(t.lineStart(),d=o(p,e),t.point(d[0],d[1])):(d=o(e,p),t.point(d[0],d[1],2),t.lineEnd()),e=d;else if(i&&e&&r^g){var m;v&n||!(m=o(p,e,!0))||(f=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||e&&Uo(e,p)||t.point(p[0],p[1]),e=p,l=g,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}}),(function(e,r,i,a){!function(t,e,n,r,i,a){if(n){var o=uo(e),s=go(e),l=r*n;null==i?(i=e+r*ao,a=e-l/2):(i=Io(o,i),a=Io(o,a),(r>0?i<a:i>a)&&(i+=r*ao));for(var c,f=i;r>0?f>a:f<a;f-=l)c=Wo([o,-s*uo(f),-s*go(f)]),t.point(c[0],c[1])}}(a,t,n,i,e,r)}),r?[0,-t]:[-no,t-no])}var Xo=1e9,Jo=-Xo;function ts(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,c){var f=0,u=0;if(null==i||(f=o(i,s))!==(u=o(a,s))||l(i,a)<0^s>0)do{c.point(0===f||3===f?t:n,f>1?r:e)}while((f=(f+s+4)%4)!==u);else c.point(a[0],a[1])}function o(r,i){return lo(r[0]-t)<eo?i>0?0:3:lo(r[0]-n)<eo?i>0?2:1:lo(r[1]-e)<eo?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var l,c,f,u,h,d,p,g,v,m,b,y=o,w=Do(),_={point:x,lineStart:function(){_.point=L,c&&c.push(f=[]);m=!0,v=!1,p=g=NaN},lineEnd:function(){l&&(L(u,h),d&&v&&w.rejoin(),l.push(w.result()));_.point=x,v&&y.lineEnd()},polygonStart:function(){y=w,l=[],c=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],l=1,f=s.length,u=s[0],h=u[0],d=u[1];l<f;++l)a=h,o=d,h=(u=s[l])[0],d=u[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(t-a)&&++e:d<=r&&(h-a)*(r-o)<(d-o)*(t-a)&&--e;return e}(),n=b&&e,i=(l=Ii(l)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&Bo(l,s,e,a,o),o.polygonEnd());y=o,l=c=f=null}};function x(t,e){i(t,e)&&y.point(t,e)}function L(a,o){var s=i(a,o);if(c&&f.push([a,o]),m)u=a,h=o,d=s,m=!1,s&&(y.lineStart(),y.point(a,o));else if(s&&v)y.point(a,o);else{var l=[p=Math.max(Jo,Math.min(Xo,p)),g=Math.max(Jo,Math.min(Xo,g))],w=[a=Math.max(Jo,Math.min(Xo,a)),o=Math.max(Jo,Math.min(Xo,o))];!function(t,e,n,r,i,a){var o,s=t[0],l=t[1],c=0,f=1,u=e[0]-s,h=e[1]-l;if(o=n-s,u||!(o>0)){if(o/=u,u<0){if(o<c)return;o<f&&(f=o)}else if(u>0){if(o>f)return;o>c&&(c=o)}if(o=i-s,u||!(o<0)){if(o/=u,u<0){if(o>f)return;o>c&&(c=o)}else if(u>0){if(o<c)return;o<f&&(f=o)}if(o=r-l,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(h>0){if(o>f)return;o>c&&(c=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(o>f)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<f&&(f=o)}return c>0&&(t[0]=s+c*u,t[1]=l+c*h),f<1&&(e[0]=s+f*u,e[1]=l+f*h),!0}}}}}(l,w,t,e,n,r)?s&&(y.lineStart(),y.point(a,o),b=!1):(v||(y.lineStart(),y.point(l[0],l[1])),y.point(w[0],w[1]),s||y.lineEnd(),b=!1)}p=a,g=o,v=s}return _}}var es,ns,rs,is,as=t=>t,os=new Li,ss=new Li,ls={point:wo,lineStart:wo,lineEnd:wo,polygonStart:function(){ls.lineStart=cs,ls.lineEnd=hs},polygonEnd:function(){ls.lineStart=ls.lineEnd=ls.point=wo,os.add(lo(ss)),ss=new Li},result:function(){var t=os/2;return os=new Li,t}};function cs(){ls.point=fs}function fs(t,e){ls.point=us,es=rs=t,ns=is=e}function us(t,e){ss.add(is*t-rs*e),rs=t,is=e}function hs(){us(es,ns)}var ds=1/0,ps=ds,gs=-ds,vs=gs,ms={point:function(t,e){t<ds&&(ds=t);t>gs&&(gs=t);e<ps&&(ps=e);e>vs&&(vs=e)},lineStart:wo,lineEnd:wo,polygonStart:wo,polygonEnd:wo,result:function(){var t=[[ds,ps],[gs,vs]];return gs=vs=-(ps=ds=1/0),t}};var bs,ys,ws,_s,xs=0,Ls=0,Ms=0,$s=0,ks=0,Ws=0,Es=0,Ss=0,As=0,Ns={point:Cs,lineStart:Rs,lineEnd:qs,polygonStart:function(){Ns.lineStart=zs,Ns.lineEnd=Ps},polygonEnd:function(){Ns.point=Cs,Ns.lineStart=Rs,Ns.lineEnd=qs},result:function(){var t=As?[Es/As,Ss/As]:Ws?[$s/Ws,ks/Ws]:Ms?[xs/Ms,Ls/Ms]:[NaN,NaN];return xs=Ls=Ms=$s=ks=Ws=Es=Ss=As=0,t}};function Cs(t,e){xs+=t,Ls+=e,++Ms}function Rs(){Ns.point=Ts}function Ts(t,e){Ns.point=js,Cs(ws=t,_s=e)}function js(t,e){var n=t-ws,r=e-_s,i=mo(n*n+r*r);$s+=i*(ws+t)/2,ks+=i*(_s+e)/2,Ws+=i,Cs(ws=t,_s=e)}function qs(){Ns.point=Cs}function zs(){Ns.point=Os}function Ps(){Is(bs,ys)}function Os(t,e){Ns.point=Is,Cs(bs=ws=t,ys=_s=e)}function Is(t,e){var n=t-ws,r=e-_s,i=mo(n*n+r*r);$s+=i*(ws+t)/2,ks+=i*(_s+e)/2,Ws+=i,Es+=(i=_s*t-ws*e)*(ws+t),Ss+=i*(_s+e),As+=3*i,Cs(ws=t,_s=e)}function Ds(t){this._context=t}Ds.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ao)}},result:wo};var Us,Fs,Bs,Hs,Vs,Gs=new Li,Ks={point:wo,lineStart:function(){Ks.point=Ys},lineEnd:function(){Us&&Zs(Fs,Bs),Ks.point=wo},polygonStart:function(){Us=!0},polygonEnd:function(){Us=null},result:function(){var t=+Gs;return Gs=new Li,t}};function Ys(t,e){Ks.point=Zs,Fs=Hs=t,Bs=Vs=e}function Zs(t,e){Hs-=t,Vs-=e,Gs.add(mo(Hs*Hs+Vs*Vs)),Hs=t,Vs=e}function Qs(){this._string=[]}function Xs(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Js(t){return function(e){var n=new tl;for(var r in t)n[r]=t[r];return n.stream=e,n}}function tl(){}function el(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ko(n,t.stream(ms)),e(ms.result()),null!=r&&t.clipExtent(r),t}function nl(t,e,n){return el(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+e[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-a*(n[1][1]+n[0][1]))/2;t.scale(150*a).translate([o,s])}),n)}Qs.prototype={_radius:4.5,_circle:Xs(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Xs(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},tl.prototype={constructor:tl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rl=uo(30*so);function il(t,e){return+e?function(t,e){function n(r,i,a,o,s,l,c,f,u,h,d,p,g,v){var m=c-r,b=f-i,y=m*m+b*b;if(y>4*e&&g--){var w=o+h,_=s+d,x=l+p,L=mo(w*w+_*_+x*x),M=yo(x/=L),$=lo(lo(x)-1)<eo||lo(a-u)<eo?(a+u)/2:fo(_,w),k=t($,M),W=k[0],E=k[1],S=W-r,A=E-i,N=b*S-m*A;(N*N/y>e||lo((m*S+b*A)/y-.5)>.3||o*h+s*d+l*p<rl)&&(n(r,i,a,o,s,l,W,E,$,w/=L,_/=L,x,g,v),v.point(W,E),n(W,E,$,w,_,x,c,f,u,h,d,p,g,v))}}return function(e){var r,i,a,o,s,l,c,f,u,h,d,p,g={point:v,lineStart:m,lineEnd:y,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=m}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){f=NaN,g.point=b,e.lineStart()}function b(r,i){var a=Eo([r,i]),o=t(r,i);n(f,u,c,h,d,p,f=o[0],u=o[1],c=r,h=a[0],d=a[1],p=a[2],16,e),e.point(f,u)}function y(){g.point=v,e.lineEnd()}function w(){m(),g.point=_,g.lineEnd=x}function _(t,e){b(r=t,e),i=f,a=u,o=h,s=d,l=p,g.point=b}function x(){n(f,u,c,h,d,p,i,a,r,o,s,l,16,e),g.lineEnd=y,y()}return g}}(t,e):function(t){return Js({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var al=Js({point:function(t,e){this.stream.point(t*so,e*so)}});function ol(t,e,n,r,i,a){if(!a)return function(t,e,n,r,i){function a(a,o){return[e+t*(a*=r),n-t*(o*=i)]}return a.invert=function(a,o){return[(a-e)/t*r,(n-o)/t*i]},a}(t,e,n,r,i);var o=uo(a),s=go(a),l=o*t,c=s*t,f=o/t,u=s/t,h=(s*n-o*e)/t,d=(s*e+o*n)/t;function p(t,a){return[l*(t*=r)-c*(a*=i)+e,n-c*t-l*a]}return p.invert=function(t,e){return[r*(f*t-u*e+h),i*(d-u*t-f*e)]},p}function sl(t){return function(t){var e,n,r,i,a,o,s,l,c,f,u=150,h=480,d=250,p=0,g=0,v=0,m=0,b=0,y=0,w=1,_=1,x=null,L=Zo,M=null,$=as,k=.5;function W(t){return l(t[0]*so,t[1]*so)}function E(t){return(t=l.invert(t[0],t[1]))&&[t[0]*oo,t[1]*oo]}function S(){var t=ol(u,0,0,w,_,y).apply(null,e(p,g)),r=ol(u,h-t[0],d-t[1],w,_,y);return n=qo(v,m,b),s=To(e,r),l=To(n,s),o=il(s,k),A()}function A(){return c=f=null,W}return W.stream=function(t){return c&&f===t?c:c=al(function(t){return Js({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(L(o($(f=t)))))},W.preclip=function(t){return arguments.length?(L=t,x=void 0,A()):L},W.postclip=function(t){return arguments.length?($=t,M=r=i=a=null,A()):$},W.clipAngle=function(t){return arguments.length?(L=+t?Qo(x=t*so):(x=null,Zo),A()):x*oo},W.clipExtent=function(t){return arguments.length?($=null==t?(M=r=i=a=null,as):ts(M=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),A()):null==M?null:[[M,r],[i,a]]},W.scale=function(t){return arguments.length?(u=+t,S()):u},W.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],S()):[h,d]},W.center=function(t){return arguments.length?(p=t[0]%360*so,g=t[1]%360*so,S()):[p*oo,g*oo]},W.rotate=function(t){return arguments.length?(v=t[0]%360*so,m=t[1]%360*so,b=t.length>2?t[2]%360*so:0,S()):[v*oo,m*oo,b*oo]},W.angle=function(t){return arguments.length?(y=t%360*so,S()):y*oo},W.reflectX=function(t){return arguments.length?(w=t?-1:1,S()):w<0},W.reflectY=function(t){return arguments.length?(_=t?-1:1,S()):_<0},W.precision=function(t){return arguments.length?(o=il(s,k=t*t),A()):mo(k)},W.fitExtent=function(t,e){return nl(W,t,e)},W.fitSize=function(t,e){return function(t,e,n){return nl(t,[[0,0],e],n)}(W,t,e)},W.fitWidth=function(t,e){return function(t,e,n){return el(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];t.scale(150*i).translate([a,o])}),n)}(W,t,e)},W.fitHeight=function(t,e){return function(t,e,n){return el(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([a,o])}),n)}(W,t,e)},function(){return e=t.apply(this,arguments),W.invert=e.invert&&E,S()}}((function(){return t}))()}function ll(t,e){return[t,po(bo((ro+e)/2))]}function cl(t){var e,n,r,i=sl(t),a=i.center,o=i.scale,s=i.translate,l=i.clipExtent,c=null;function f(){var a=no*o(),s=i(function(t){function e(e){return(e=t(e[0]*so,e[1]*so))[0]*=oo,e[1]*=oo,e}return t=qo(t[0]*so,t[1]*so,t.length>2?t[2]*so:0),e.invert=function(e){return(e=t.invert(e[0]*so,e[1]*so))[0]*=oo,e[1]*=oo,e},e}(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===ll?[[Math.max(s[0]-a,c),e],[Math.min(s[0]+a,n),r]]:[[c,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),f()):o()},i.translate=function(t){return arguments.length?(s(t),f()):s()},i.center=function(t){return arguments.length?(a(t),f()):a()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),f()):null==c?null:[[c,e],[n,r]]},f()}function fl(t,e){return[po(bo((ro+e)/2)),-t]}ll.invert=function(t,e){return[t,2*co(ho(e))-ro]},fl.invert=function(t,e){return[-e,2*co(ho(t))-ro]};const ul=Math.pow(2,-52),hl=new Uint32Array(512);class dl{static from(t,e=_l,n=xl){const r=t.length,i=new Float64Array(2*r);for(let a=0;a<r;a++){const r=t[a];i[2*a]=e(r),i[2*a+1]=n(r)}return new dl(i)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:r,_hullHash:i}=this,a=t.length>>1;let o=1/0,s=1/0,l=-1/0,c=-1/0;for(let e=0;e<a;e++){const n=t[2*e],r=t[2*e+1];n<o&&(o=n),r<s&&(s=r),n>l&&(l=n),r>c&&(c=r),this._ids[e]=e}const f=(o+l)/2,u=(s+c)/2;let h,d,p,g=1/0;for(let e=0;e<a;e++){const n=pl(f,u,t[2*e],t[2*e+1]);n<g&&(h=e,g=n)}const v=t[2*h],m=t[2*h+1];g=1/0;for(let e=0;e<a;e++){if(e===h)continue;const n=pl(v,m,t[2*e],t[2*e+1]);n<g&&n>0&&(d=e,g=n)}let b=t[2*d],y=t[2*d+1],w=1/0;for(let e=0;e<a;e++){if(e===h||e===d)continue;const n=bl(v,m,b,y,t[2*e],t[2*e+1]);n<w&&(p=e,w=n)}let _=t[2*p],x=t[2*p+1];if(w===1/0){for(let e=0;e<a;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];yl(this._ids,this._dists,0,a-1);const e=new Uint32Array(a);let n=0;for(let t=0,r=-1/0;t<a;t++){const i=this._ids[t];this._dists[i]>r&&(e[n++]=i,r=this._dists[i])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(vl(v,m,b,y,_,x)){const t=d,e=b,n=y;d=p,b=_,y=x,p=t,_=e,x=n}const L=function(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,f=o*o+s*s,u=l*l+c*c,h=.5/(o*c-s*l);return{x:t+(c*f-s*u)*h,y:e+(o*u-l*f)*h}}(v,m,b,y,_,x);this._cx=L.x,this._cy=L.y;for(let e=0;e<a;e++)this._dists[e]=pl(t[2*e],t[2*e+1],L.x,L.y);yl(this._ids,this._dists,0,a-1),this._hullStart=h;let M=3;n[h]=e[p]=d,n[d]=e[h]=p,n[p]=e[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(v,m)]=h,i[this._hashKey(b,y)]=d,i[this._hashKey(_,x)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let a,o,s=0;s<this._ids.length;s++){const l=this._ids[s],c=t[2*l],f=t[2*l+1];if(s>0&&Math.abs(c-a)<=ul&&Math.abs(f-o)<=ul)continue;if(a=c,o=f,l===h||l===d||l===p)continue;let u=0;for(let t=0,e=this._hashKey(c,f);t<this._hashSize&&(u=i[(e+t)%this._hashSize],-1===u||u===n[u]);t++);u=e[u];let g,v=u;for(;g=n[v],!vl(c,f,t[2*v],t[2*v+1],t[2*g],t[2*g+1]);)if(v=g,v===u){v=-1;break}if(-1===v)continue;let m=this._addTriangle(v,l,n[v],-1,-1,r[v]);r[l]=this._legalize(m+2),r[v]=m,M++;let b=n[v];for(;g=n[b],vl(c,f,t[2*b],t[2*b+1],t[2*g],t[2*g+1]);)m=this._addTriangle(b,l,g,r[l],-1,r[b]),r[l]=this._legalize(m+2),n[b]=b,M--,b=g;if(v===u)for(;g=e[v],vl(c,f,t[2*g],t[2*g+1],t[2*v],t[2*v+1]);)m=this._addTriangle(g,l,v,-1,r[v],r[g]),this._legalize(m+2),r[g]=m,n[v]=v,M--,v=g;this._hullStart=e[l]=v,n[v]=e[b]=l,n[l]=b,i[this._hashKey(c,f)]=l,i[this._hashKey(t[2*v],t[2*v+1])]=v}this.hull=new Uint32Array(M);for(let t=0,e=this._hullStart;t<M;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:r}=this;let i=0,a=0;for(;;){const o=n[t],s=t-t%3;if(a=s+(t+2)%3,-1===o){if(0===i)break;t=hl[--i];continue}const l=o-o%3,c=s+(t+1)%3,f=l+(o+2)%3,u=e[a],h=e[t],d=e[c],p=e[f];if(ml(r[2*u],r[2*u+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){e[t]=p,e[o]=u;const r=n[f];if(-1===r){let e=this._hullStart;do{if(this._hullTri[e]===f){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,r),this._link(o,n[a]),this._link(a,f);const s=l+(o+1)%3;i<hl.length&&(hl[i++]=s)}else{if(0===i)break;t=hl[--i]}}return a}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,r,i,a){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=e,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}function pl(t,e,n,r){const i=t-n,a=e-r;return i*i+a*a}function gl(t,e,n,r,i,a){const o=(r-e)*(i-t),s=(n-t)*(a-e);return Math.abs(o-s)>=33306690738754716e-32*Math.abs(o+s)?o-s:0}function vl(t,e,n,r,i,a){return(gl(i,a,t,e,n,r)||gl(t,e,n,r,i,a)||gl(n,r,i,a,t,e))<0}function ml(t,e,n,r,i,a,o,s){const l=t-o,c=e-s,f=n-o,u=r-s,h=i-o,d=a-s,p=f*f+u*u,g=h*h+d*d;return l*(u*g-p*d)-c*(f*g-p*h)+(l*l+c*c)*(f*d-u*h)<0}function bl(t,e,n,r,i,a){const o=n-t,s=r-e,l=i-t,c=a-e,f=o*o+s*s,u=l*l+c*c,h=.5/(o*c-s*l),d=(c*f-s*u)*h,p=(o*u-l*f)*h;return d*d+p*p}function yl(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const r=t[i],a=e[r];let o=i-1;for(;o>=n&&e[t[o]]>a;)t[o+1]=t[o--];t[o+1]=r}else{let i=n+1,a=r;wl(t,n+r>>1,i),e[t[n]]>e[t[r]]&&wl(t,n,r),e[t[i]]>e[t[r]]&&wl(t,i,r),e[t[n]]>e[t[i]]&&wl(t,n,i);const o=t[i],s=e[o];for(;;){do{i++}while(e[t[i]]<s);do{a--}while(e[t[a]]>s);if(a<i)break;wl(t,i,a)}t[n+1]=t[a],t[a]=o,r-i+1>=a-n?(yl(t,e,i,r),yl(t,e,n,a-1)):(yl(t,e,n,a-1),yl(t,e,i,r))}}function wl(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _l(t){return t[0]}function xl(t){return t[1]}const Ll=1e-6;class Ml{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const r=(t=+t)+(n=+n),i=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>Ll||Math.abs(this._y1-i)>Ll)&&(this._+="L"+r+","+i),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,e,n,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+r}h${-n}Z`}value(){return this._||null}}class $l{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class kl{constructor(t,[e,n,r,i]=[0,0,960,500]){if(!((r=+r)>=(e=+e)&&(i=+i)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=e,this.ymax=i,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,r,a=0,o=0,s=n.length;a<s;a+=3,o+=2){const s=2*n[a],l=2*n[a+1],c=2*n[a+2],f=t[s],u=t[s+1],h=t[l],d=t[l+1],p=t[c],g=t[c+1],v=h-f,m=d-u,b=p-f,y=g-u,w=v*v+m*m,_=b*b+y*y,x=2*(v*y-m*b);if(x)if(Math.abs(x)<1e-8)e=(f+p)/2,r=(u+g)/2;else{const t=1/x;e=f+(y*w-m*_)*t,r=u+(v*_-b*w)*t}else e=(f+p)/2-1e8*y,r=(u+g)/2+1e8*b;i[o]=e,i[o+1]=r}let a,o,s,l=e[e.length-1],c=4*l,f=t[2*l],u=t[2*l+1];r.fill(0);for(let n=0;n<e.length;++n)l=e[n],a=c,o=f,s=u,c=4*l,f=t[2*l],u=t[2*l+1],r[a+2]=r[c]=s-u,r[a+3]=r[c+1]=f-o}render(t){const e=null==t?t=new Ml:void 0,{delaunay:{halfedges:n,inedges:r,hull:i},circumcenters:a,vectors:o}=this;if(i.length<=1)return null;for(let e=0,r=n.length;e<r;++e){const r=n[e];if(r<e)continue;const i=2*Math.floor(e/3),o=2*Math.floor(r/3),s=a[i],l=a[i+1],c=a[o],f=a[o+1];this._renderSegment(s,l,c,f,t)}let s,l=i[i.length-1];for(let e=0;e<i.length;++e){s=l,l=i[e];const n=2*Math.floor(r[l]/3),c=a[n],f=a[n+1],u=4*s,h=this._project(c,f,o[u+2],o[u+3]);h&&this._renderSegment(c,f,h[0],h[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new Ml:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new Ml:void 0,r=this._clip(t);if(null===r||!r.length)return;e.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||e.lineTo(r[t],r[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new $l;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,r,i){let a;const o=this._regioncode(t,e),s=this._regioncode(n,r);0===o&&0===s?(i.moveTo(t,e),i.lineTo(n,r)):(a=this._clipSegment(t,e,n,r,o,s))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let r=0,i=e.length;r<i;r+=2)for(let a=0,o=t.length;a<o;a+=2)if(e[r]==t[a]&&e[r+1]==t[a+1]&&e[(r+2)%i]==t[(a+o-2)%o]&&e[(r+3)%i]==t[(a+o-1)%o]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:r,triangles:i}}=this,a=n[t];if(-1===a)return null;const o=[];let s=a;do{const n=Math.floor(s/3);if(o.push(e[2*n],e[2*n+1]),s=s%3==2?s-2:s+1,i[s]!==t)break;s=r[s]}while(s!==a&&-1!==s);return o}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,r=4*t;return n[r]||n[r+1]?this._clipInfinite(t,e,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let r,i,a,o,s,l=null,c=e[n-2],f=e[n-1],u=this._regioncode(c,f);for(let h=0;h<n;h+=2)if(r=c,i=f,c=e[h],f=e[h+1],a=u,u=this._regioncode(c,f),0===a&&0===u)o=s,s=0,l?l.push(c,f):l=[c,f];else{let e,n,h,d,p;if(0===a){if(null===(e=this._clipSegment(r,i,c,f,a,u)))continue;[n,h,d,p]=e}else{if(null===(e=this._clipSegment(c,f,r,i,u,a)))continue;[d,p,n,h]=e,o=s,s=this._edgecode(n,h),o&&s&&this._edge(t,o,s,l,l.length),l?l.push(n,h):l=[n,h]}o=s,s=this._edgecode(d,p),o&&s&&this._edge(t,o,s,l,l.length),l?l.push(d,p):l=[d,p]}if(l)o=s,s=this._edgecode(l[0],l[1]),o&&s&&this._edge(t,o,s,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,r,i,a){for(;;){if(0===i&&0===a)return[t,e,n,r];if(i&a)return null;let o,s,l=i||a;8&l?(o=t+(n-t)*(this.ymax-e)/(r-e),s=this.ymax):4&l?(o=t+(n-t)*(this.ymin-e)/(r-e),s=this.ymin):2&l?(s=e+(r-e)*(this.xmax-t)/(n-t),o=this.xmax):(s=e+(r-e)*(this.xmin-t)/(n-t),o=this.xmin),i?(t=o,e=s,i=this._regioncode(t,e)):(n=o,r=s,a=this._regioncode(n,r))}}_clipInfinite(t,e,n,r,i,a){let o,s=Array.from(e);if((o=this._project(s[0],s[1],n,r))&&s.unshift(o[0],o[1]),(o=this._project(s[s.length-2],s[s.length-1],i,a))&&s.push(o[0],o[1]),s=this._clipFinite(t,s))for(let e,n=0,r=s.length,i=this._edgecode(s[r-2],s[r-1]);n<r;n+=2)e=i,i=this._edgecode(s[n],s[n+1]),e&&i&&(n=this._edge(t,e,i,s,n),r=s.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(s=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return s}_edge(t,e,n,r,i){for(;e!==n;){let n,a;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,a=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,a=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,a=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,a=this.ymin}r[i]===n&&r[i+1]===a||!this.contains(t,n,a)||(r.splice(i,0,n,a),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const e=(t+2)%r.length,n=(t+4)%r.length;(r[t]===r[e]&&r[e]===r[n]||r[t+1]===r[e+1]&&r[e+1]===r[n+1])&&(r.splice(e,2),t-=2)}return i}_project(t,e,n,r){let i,a,o,s=1/0;if(r<0){if(e<=this.ymin)return null;(i=(this.ymin-e)/r)<s&&(o=this.ymin,a=t+(s=i)*n)}else if(r>0){if(e>=this.ymax)return null;(i=(this.ymax-e)/r)<s&&(o=this.ymax,a=t+(s=i)*n)}if(n>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/n)<s&&(a=this.xmax,o=e+(s=i)*r)}else if(n<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/n)<s&&(a=this.xmin,o=e+(s=i)*r)}return[a,o]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const Wl=2*Math.PI,El=Math.pow;function Sl(t){return t[0]}function Al(t){return t[1]}function Nl(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class Cl{static from(t,e=Sl,n=Al,r){return new Cl("length"in t?function(t,e,n,r){const i=t.length,a=new Float64Array(2*i);for(let o=0;o<i;++o){const i=t[o];a[2*o]=e.call(r,i,o,t),a[2*o+1]=n.call(r,i,o,t)}return a}(t,e,n,r):Float64Array.from(function*(t,e,n,r){let i=0;for(const a of t)yield e.call(r,a,i,t),yield n.call(r,a,i,t),++i}(t,e,n,r)))}constructor(t){this._delaunator=new dl(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const r=2*e[t],i=2*e[t+1],a=2*e[t+2];if((n[a]-n[r])*(n[i+1]-n[r+1])-(n[i]-n[r])*(n[a+1]-n[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],r=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,n=e.length/2;t<n;++t){const n=Nl(e[2*t],e[2*t+1],i);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new dl(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=i[t%3==2?t-2:t+1];-1!==n[t]&&-1!==a[e]||(a[e]=t)}for(let t=0,e=r.length;t<e;++t)o[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],a[r[0]]=1,2===r.length&&(a[r[1]]=0))}voronoi(t){return new kl(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:r,halfedges:i,triangles:a,collinear:o}=this;if(o){const e=o.indexOf(t);return e>0&&(yield o[e-1]),void(e<o.length-1&&(yield o[e+1]))}const s=e[t];if(-1===s)return;let l=s,c=-1;do{if(yield c=a[l],l=l%3==2?l-2:l+1,a[l]!==t)return;if(l=i[l],-1===l){const e=n[(r[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==s)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const r=n;let i;for(;(i=this._step(n,t,e))>=0&&i!==n&&i!==r;)n=i;return i}_step(t,e,n){const{inedges:r,hull:i,_hullIndex:a,halfedges:o,triangles:s,points:l}=this;if(-1===r[t]||!l.length)return(t+1)%(l.length>>1);let c=t,f=El(e-l[2*t],2)+El(n-l[2*t+1],2);const u=r[t];let h=u;do{let r=s[h];const u=El(e-l[2*r],2)+El(n-l[2*r+1],2);if(u<f&&(f=u,c=r),h=h%3==2?h-2:h+1,s[h]!==t)break;if(h=o[h],-1===h){if(h=i[(a[t]+1)%i.length],h!==r&&El(e-l[2*h],2)+El(n-l[2*h+1],2)<f)return h;break}}while(h!==u);return c}render(t){const e=null==t?t=new Ml:void 0,{points:n,halfedges:r,triangles:i}=this;for(let e=0,a=r.length;e<a;++e){const a=r[e];if(a<e)continue;const o=2*i[e],s=2*i[a];t.moveTo(n[o],n[o+1]),t.lineTo(n[s],n[s+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new Ml:void 0,{points:r}=this;for(let n=0,i=r.length;n<i;n+=2){const i=r[n],a=r[n+1];t.moveTo(i+e,a),t.arc(i,a,e,0,Wl)}return n&&n.value()}renderHull(t){const e=null==t?t=new Ml:void 0,{hull:n,points:r}=this,i=2*n[0],a=n.length;t.moveTo(r[i],r[i+1]);for(let e=1;e<a;++e){const i=2*n[e];t.lineTo(r[i],r[i+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new $l;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new Ml:void 0,{points:r,triangles:i}=this,a=2*i[t*=3],o=2*i[t+1],s=2*i[t+2];return e.moveTo(r[a],r[a+1]),e.lineTo(r[o],r[o+1]),e.lineTo(r[s],r[s+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new $l;return this.renderTriangle(t,e),e.value()}}function Rl(t){return t}function Tl(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return jl(t,e)}))}:jl(t,e)}function jl(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,a=ql(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function ql(t,e){var n=function(t){if(null==t)return Rl;var e,n,r=t.scale[0],i=t.scale[1],a=t.translate[0],o=t.translate[1];return function(t,s){s||(e=n=0);var l=2,c=t.length,f=new Array(c);for(f[0]=(e+=t[0])*r+a,f[1]=(n+=t[1])*i+o;l<c;)f[l]=t[l],++l;return f}}(t.transform),r=t.arcs;function i(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],a=0,o=i.length;a<o;++a)e.push(n(i[a],a));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,o)}function a(t){return n(t)}function o(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=o(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(s)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=a(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(a);break;case"LineString":n=o(e.arcs);break;case"MultiLineString":n=e.arcs.map(o);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function zl(t,e){var n={},r={},i={},a=[],o=-1;function s(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),a.push(i)}}return e.forEach((function(n,r){var i,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++o],e[o]=n,e[r]=i)})),e.forEach((function(e){var n,a,o=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),s=o[0],l=o[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=l,a=r[l]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=i[c.end=a.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=s,a=i[s]){delete i[a.end];var f=a===n?n:a.concat(n);r[f.start=a.start]=i[f.end=n.end]=f}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=s]=i[n.end=l]=n})),s(i,r),s(r,i),e.forEach((function(t){n[t<0?~t:t]||a.push([t])})),a}function Pl(t,e,n){var r,i,a;if(arguments.length>1)r=Ol(t,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:zl(t,r)}}function Ol(t,e,n){var r,i=[],a=[];function o(t){var e=t<0?~t:t;(a[e]||(a[e]=[])).push({i:t,g:r})}function s(t){t.forEach(o)}function l(t){t.forEach(s)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":l(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(l)}(e.arcs)}}(e),a.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function Il(t,e,n){const r=t.slice();return r[17]=e[n],r}function Dl(t){let e,n,r,i,a,o,s;function l(...e){return t[7](t[17],...e)}return{c(){e=m("path"),L(e,"id",n="map-path-"+t[17].properties.index),L(e,"d",r=t[0](t[17])),L(e,"fill",i=t[6](t[17].properties.value)),L(e,"stroke",a=t[6](t[17].properties.value)),L(e,"class","polygon svelte-o1a69t")},m(t,n){d(t,e,n),o||(s=_(e,"click",l),o=!0)},p(o,s){t=o,4&s&&n!==(n="map-path-"+t[17].properties.index)&&L(e,"id",n),5&s&&r!==(r=t[0](t[17]))&&L(e,"d",r),68&s&&i!==(i=t[6](t[17].properties.value))&&L(e,"fill",i),68&s&&a!==(a=t[6](t[17].properties.value))&&L(e,"stroke",a)},d(t){t&&p(e),o=!1,s()}}}function Ul(e){let n,r,i,a,o,s,l,c=e[2],f=[];for(let t=0;t<c.length;t+=1)f[t]=Dl(Il(e,c,t));return{c(){n=v("div"),r=m("svg");for(let t=0;t<f.length;t+=1)f[t].c();i=m("path"),o=m("circle"),L(i,"id","boundaries"),L(i,"d",a=e[0](e[1])),L(i,"class","svelte-o1a69t"),L(o,"id","start-point"),L(o,"r","3"),L(o,"cx",s=e[3][0]),L(o,"cy",l=e[3][1]),L(o,"class","svelte-o1a69t"),L(r,"width",e[4]),L(r,"height",e[5]),L(n,"class","map svelte-o1a69t")},m(t,e){d(t,n,e),h(n,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);h(r,i),h(r,o)},p(t,[e]){if(69&e){let n;for(c=t[2],n=0;n<c.length;n+=1){const a=Il(t,c,n);f[n]?f[n].p(a,e):(f[n]=Dl(a),f[n].c(),f[n].m(r,i))}for(;n<f.length;n+=1)f[n].d(1);f.length=c.length}3&e&&a!==(a=t[0](t[1]))&&L(i,"d",a),8&e&&s!==(s=t[3][0])&&L(o,"cx",s),8&e&&l!==(l=t[3][1])&&L(o,"cy",l),16&e&&L(r,"width",t[4]),32&e&&L(r,"height",t[5])},i:t,o:t,d(t){t&&p(n),g(f,t)}}}function Fl(t,e,n){let r,i,a,s;o(t,Ye,(t=>n(10,r=t))),o(t,Be,(t=>n(11,i=t))),o(t,Je,(t=>n(12,a=t))),o(t,Xe,(t=>n(13,s=t)));let l,c,f,u,h,d=()=>{},p=[],g=[],v=[];function m(t){const{json:e,country:n}=t,r=function(){const{width:t}=document.querySelector(".map").getBoundingClientRect();return t}(),i=function(t){return t>600?.5:.9}(r),a=parseInt(r*i);return{width:r,height:a,projection:function(t){const{json:e,country:n,width:r,height:i}=t;return function(){var t=cl(fl),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}().fitExtent([[5,5],[r,i]],Tl(e,e.objects[n]))}({json:e,country:n,width:r,height:a})}}return t.$$.update=()=>{16245&t.$$.dirty&&r&&(n(8,f=r),n(6,u=i),A((async function(){const t=a;n(1,p=function(t){return ql(t,Pl.apply(this,arguments))}(t,t.objects[s],((t,e)=>t!==e)));const{features:e}=Tl(t,t.objects[s]),r=m({json:t,country:s}),{projection:i}=r;n(4,l=r.width),n(5,c=r.height),n(0,d=function(t,e){var n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),ko(t,n(r))),r.result()}return a.area=function(t){return ko(t,n(ls)),ls.result()},a.measure=function(t){return ko(t,n(Ks)),Ks.result()},a.bounds=function(t){return ko(t,n(ms)),ms.result()},a.centroid=function(t){return ko(t,n(Ns)),Ns.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,as):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Qs):new Ds(e=t),"function"!=typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)}().projection(i)),e.sort(((t,e)=>bi(d.area(t),d.area(e)))),n(2,g=e);const o=g.map((t=>d.centroid(t))),b=Cl.from(o).voronoi([0,0,l,c]);b.cellPolygons();n(9,h=Array.from(b.cellPolygons())),function(t){const{polygons:e,voronoi:n,colour:r}=t;e.map((function(t,e){t.index=e,t.high=0;const r=Array.from(n.neighbors(t.index));t.neighbors=r}))}({polygons:h,voronoi:b,colour:u});n(3,v=o[0]);const y=f.map(((t,e)=>({value:f[e].length,range:[f[e].x0,f[e].x1]}))).filter((t=>t.value>0)).sort(((t,e)=>e.value-t.value)),w=function(t,e){let n=0;if(void 0===e)for(let e of t)(e=+e)&&(n+=e);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}(y,(t=>t.value));y.forEach((t=>{t.percent=Number((t.value/w*100).toFixed(2)),t.nFeatures=Math.floor(t.percent/100*e.length)}));let _,x=0,L=0,M=[],$=0;M.push(0);for(let t=0;t<M.length;t++)h[M[t]].neighbors.forEach((function(t,r){if(h[t]&&!h[t].used){const r=e[h[t].index],{range:i,nFeatures:a}=y[x];$=Math.random()*(i[1]-i[0])+i[0],r.properties.value=$,L++,L>=a&&(x++,L=0),++_,x>=y.length&&(x=y.length-2,_=0),n(9,h[t].used=1,h),M.push(t)}}));console.log(_+" features out of range")})))},[d,p,g,v,l,c,u,t=>console.log(t.properties.value)]}class Bl extends J{constructor(t){super(),X(this,t,Fl,Ul,a,{})}}function Hl(t){return function(){return t}}function Vl(t){return t[0]}function Gl(t){return t[1]}function Kl(){this._=null}function Yl(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Zl(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ql(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Xl(t){for(;t.L;)t=t.L;return t}function Jl(t,e,n,r){var i=[null,null],a=Lc.push(i)-1;return i.left=t,i.right=e,n&&ec(i,t,e,n),r&&ec(i,e,t,r),_c[t.index].halfedges.push(a),_c[e.index].halfedges.push(a),i}function tc(t,e,n){var r=[e,n];return r.left=t,r}function ec(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function nc(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],c=o[1],f=0,u=1,h=s[0]-l,d=s[1]-c;if(a=e-l,h||!(a>0)){if(a/=h,h<0){if(a<f)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>f&&(f=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>f&&(f=a)}else if(h>0){if(a<f)return;a<u&&(u=a)}if(a=n-c,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>f&&(f=a)}if(a=i-c,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<u&&(u=a)}return!(f>0||u<1)||(f>0&&(t[0]=[l+f*h,c+f*d]),u<1&&(t[1]=[l+u*h,c+u*d]),!0)}}}}}function rc(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],c=t.left,f=t.right,u=c[0],h=c[1],d=f[0],p=f[1],g=(u+d)/2,v=(h+p)/2;if(p===h){if(g<e||g>=r)return;if(u>d){if(l){if(l[1]>=i)return}else l=[g,n];a=[g,i]}else{if(l){if(l[1]<n)return}else l=[g,i];a=[g,n]}}else if(s=v-(o=(u-d)/(p-h))*g,o<-1||o>1)if(u>d){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function ic(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ac(t,e){return e[+(e.left!==t.site)]}function oc(t,e){return e[+(e.left===t.site)]}Kl.prototype={constructor:Kl,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Xl(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Zl(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ql(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ql(this,n),n=(t=n).U),n.C=!1,r.C=!0,Zl(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?Xl(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Zl(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ql(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Zl(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ql(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Zl(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ql(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var sc,lc=[];function cc(){Yl(this),this.x=this.y=this.arc=this.site=this.cy=null}function fc(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,c=r[1]-s,f=a[0]-o,u=a[1]-s,h=2*(l*u-c*f);if(!(h>=-$c)){var d=l*l+c*c,p=f*f+u*u,g=(u*d-c*p)/h,v=(l*p-f*d)/h,m=lc.pop()||new cc;m.arc=t,m.site=i,m.x=g+o,m.y=(m.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=m;for(var b=null,y=xc._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}xc.insert(b,m),b||(sc=m)}}}}function uc(t){var e=t.circle;e&&(e.P||(sc=e.N),xc.remove(e),lc.push(e),Yl(e),t.circle=null)}var hc=[];function dc(){Yl(this),this.edge=this.site=this.circle=null}function pc(t){var e=hc.pop()||new dc;return e.site=t,e}function gc(t){uc(t),wc.remove(t),hc.push(t),Yl(t)}function vc(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];gc(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Mc&&Math.abs(r-l.circle.cy)<Mc;)a=l.P,s.unshift(l),gc(l),l=a;s.unshift(l),uc(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<Mc&&Math.abs(r-c.circle.cy)<Mc;)o=c.N,s.push(c),gc(c),c=o;s.push(c),uc(c);var f,u=s.length;for(f=1;f<u;++f)c=s[f],l=s[f-1],ec(c.edge,l.site,c.site,i);l=s[0],(c=s[u-1]).edge=Jl(l.site,c.site,null,i),fc(l),fc(c)}function mc(t){for(var e,n,r,i,a=t[0],o=t[1],s=wc._;s;)if((r=bc(s,o)-a)>Mc)s=s.L;else{if(!((i=a-yc(s,o))>Mc)){r>-Mc?(e=s.P,n=s):i>-Mc?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){_c[t.index]={site:t,halfedges:[]}}(t);var l=pc(t);if(wc.insert(e,l),e||n){if(e===n)return uc(e),n=pc(e.site),wc.insert(l,n),l.edge=n.edge=Jl(e.site,l.site),fc(e),void fc(n);if(n){uc(e),uc(n);var c=e.site,f=c[0],u=c[1],h=t[0]-f,d=t[1]-u,p=n.site,g=p[0]-f,v=p[1]-u,m=2*(h*v-d*g),b=h*h+d*d,y=g*g+v*v,w=[(v*b-d*y)/m+f,(h*y-g*b)/m+u];ec(n.edge,c,p,w),l.edge=Jl(c,t,null,w),n.edge=Jl(t,p,null,w),fc(e),fc(n)}else l.edge=Jl(e.site,l.site)}}function bc(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],l=n[1],c=l-e;if(!c)return s;var f=s-r,u=1/a-1/c,h=f/c;return u?(-h+Math.sqrt(h*h-2*u*(f*f/(-2*c)-l+c/2+i-a/2)))/u+r:(r+s)/2}function yc(t,e){var n=t.N;if(n)return bc(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var wc,_c,xc,Lc,Mc=1e-6,$c=1e-12;function kc(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Wc(t,e){return e[1]-t[1]||e[0]-t[0]}function Ec(t,e){var n,r,i,a=t.sort(Wc).pop();for(Lc=[],_c=new Array(t.length),wc=new Kl,xc=new Kl;;)if(i=sc,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(mc(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;vc(i.arc)}if(function(){for(var t,e,n,r,i=0,a=_c.length;i<a;++i)if((t=_c[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=ic(t,Lc[e[n]]);for(o.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,a=Lc.length;a--;)rc(i=Lc[a],t,e,n,r)&&nc(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Mc||Math.abs(i[0][1]-i[1][1])>Mc)||delete Lc[a]}(o,s,l,c),function(t,e,n,r){var i,a,o,s,l,c,f,u,h,d,p,g,v=_c.length,m=!0;for(i=0;i<v;++i)if(a=_c[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)Lc[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)p=(d=oc(a,Lc[l[s]]))[0],g=d[1],u=(f=ac(a,Lc[l[++s%c]]))[0],h=f[1],(Math.abs(p-u)>Mc||Math.abs(g-h)>Mc)&&(l.splice(s,0,Lc.push(tc(o,d,Math.abs(p-t)<Mc&&r-g>Mc?[t,Math.abs(u-t)<Mc?h:r]:Math.abs(g-r)<Mc&&n-p>Mc?[Math.abs(h-r)<Mc?u:n,r]:Math.abs(p-n)<Mc&&g-e>Mc?[n,Math.abs(u-n)<Mc?h:e]:Math.abs(g-e)<Mc&&p-t>Mc?[Math.abs(h-e)<Mc?u:t,e]:null))-1),++c);c&&(m=!1)}if(m){var b,y,w,_=1/0;for(i=0,m=null;i<v;++i)(a=_c[i])&&(w=(b=(o=a.site)[0]-t)*b+(y=o[1]-e)*y)<_&&(_=w,m=a);if(m){var x=[t,e],L=[t,r],M=[n,r],$=[n,e];m.halfedges.push(Lc.push(tc(o=m.site,x,L))-1,Lc.push(tc(o,L,M))-1,Lc.push(tc(o,M,$))-1,Lc.push(tc(o,$,x))-1)}}for(i=0;i<v;++i)(a=_c[i])&&(a.halfedges.length||delete _c[i])}(o,s,l,c)}this.edges=Lc,this.cells=_c,wc=xc=Lc=_c=null}function Sc(){var t=Vl,e=Gl,n=null;function r(r){return new Ec(r.map((function(n,i){var a=[Math.round(t(n,i,r)/Mc)*Mc,Math.round(e(n,i,r)/Mc)*Mc];return a.index=i,a.data=n,a})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:Hl(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:Hl(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Ac(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,c,f,u,h,d=t._root,p={data:r},g=t._x0,v=t._y0,m=t._x1,b=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(a=(g+m)/2))?g=a:m=a,(f=n>=(o=(v+b)/2))?v=o:b=o,i=d,!(d=d[u=f<<1|c]))return i[u]=p,t;if(s=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===s&&n===l)return p.next=d,i?i[u]=p:t._root=p,t;do{i=i?i[u]=new Array(4):t._root=new Array(4),(c=e>=(a=(g+m)/2))?g=a:m=a,(f=n>=(o=(v+b)/2))?v=o:b=o}while((u=f<<1|c)==(h=(l>=o)<<1|s>=a));return i[h]=d,i[u]=p,t}function Nc(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Cc(t){return t[0]}function Rc(t){return t[1]}function Tc(t,e,n){var r=new jc(null==e?Cc:e,null==n?Rc:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function jc(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function qc(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Ec.prototype={constructor:Ec,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return ac(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s=n.site,l=-1,c=e[i[a-1]],f=c.left===s?c.right:c.left;++l<a;)o=f,f=(c=e[i[l]]).left===s?c.right:c.left,o&&f&&r<o.index&&r<f.index&&kc(s,o,f)<0&&t.push([s.data,o.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var l=t-i.site[0],c=e-i.site[1],f=l*l+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach((function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],c=e-s[1],u=l*l+c*c;u<f&&(f=u,o=s.index)}}))}while(null!==o);return a._found=r,null==n||f<=n*n?i.site:null}};var zc=Tc.prototype=jc.prototype;function Pc(t){return function(){return t}}function Oc(t){return 1e-6*(t()-.5)}function Ic(t){return t.x+t.vx}function Dc(t){return t.y+t.vy}zc.copy=function(){var t,e,n=new jc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=qc(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=qc(e));return n},zc.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Ac(this.cover(e,n),e,n,t)},zc.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,c=1/0,f=-1/0,u=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<l&&(l=r),r>f&&(f=r),i<c&&(c=i),i>u&&(u=i));if(l>f||c>u)return this;for(this.cover(l,c).cover(f,u),n=0;n<a;++n)Ac(this,o[n],s[n],t[n]);return this},zc.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{for(var o,s,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=a;)switch(s=(e<r)<<1|t<n,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:i=n+l,a=r+l;break;case 1:n=i-l,a=r+l;break;case 2:i=n+l,r=a-l;break;case 3:n=i-l,r=a-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},zc.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},zc.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},zc.find=function(t,e,n){var r,i,a,o,s,l,c,f=this._x0,u=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Nc(g,f,u,h,d)),null==n?n=1/0:(f=t-n,u=e-n,h=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>h||(a=l.y0)>d||(o=l.x1)<f||(s=l.y1)<u))if(g.length){var v=(i+o)/2,m=(a+s)/2;p.push(new Nc(g[3],v,m,o,s),new Nc(g[2],i,m,v,s),new Nc(g[1],v,a,o,m),new Nc(g[0],i,a,v,m)),(c=(e>=m)<<1|t>=v)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var b=t-+this._x.call(null,g.data),y=e-+this._y.call(null,g.data),w=b*b+y*y;if(w<n){var _=Math.sqrt(n=w);f=t-_,u=e-_,h=t+_,d=e+_,r=g.data}}return r},zc.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,c,f,u,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=a>=(s=(p+v)/2))?p=s:v=s,(f=o>=(l=(g+m)/2))?g=l:m=l,e=d,!(d=d[u=f<<1|c]))return this;if(!d.length)break;(e[u+1&3]||e[u+2&3]||e[u+3&3])&&(n=e,h=u)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[u]=i:delete e[u],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},zc.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},zc.root=function(){return this._root},zc.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},zc.visit=function(t){var e,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new Nc(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var c=(r+a)/2,f=(i+o)/2;(n=l[3])&&s.push(new Nc(n,c,f,a,o)),(n=l[2])&&s.push(new Nc(n,r,f,c,o)),(n=l[1])&&s.push(new Nc(n,c,i,a,f)),(n=l[0])&&s.push(new Nc(n,r,i,c,f))}return this},zc.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Nc(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,c=e.y1,f=(o+l)/2,u=(s+c)/2;(a=i[0])&&n.push(new Nc(a,o,s,f,u)),(a=i[1])&&n.push(new Nc(a,f,s,l,u)),(a=i[2])&&n.push(new Nc(a,o,u,f,c)),(a=i[3])&&n.push(new Nc(a,f,u,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},zc.x=function(t){return arguments.length?(this._x=t,this):this._x},zc.y=function(t){return arguments.length?(this._y=t,this):this._y};var Uc={value:()=>{}};function Fc(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Bc(r)}function Bc(t){this._=t}function Hc(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Vc(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Gc(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Uc,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Bc.prototype=Fc.prototype={constructor:Bc,on:function(t,e){var n,r=this._,i=Hc(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=Gc(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Gc(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=Vc(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Bc(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var Kc,Yc,Zc=0,Qc=0,Xc=0,Jc=0,tf=0,ef=0,nf="object"==typeof performance&&performance.now?performance:Date,rf="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function af(){return tf||(rf(of),tf=nf.now()+ef)}function of(){tf=0}function sf(){this._call=this._time=this._next=null}function lf(t,e,n){var r=new sf;return r.restart(t,e,n),r}function cf(){tf=(Jc=nf.now())+ef,Zc=Qc=0;try{!function(){af(),++Zc;for(var t,e=Kc;e;)(t=tf-e._time)>=0&&e._call.call(null,t),e=e._next;--Zc}()}finally{Zc=0,function(){var t,e,n=Kc,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Kc=e);Yc=t,uf(r)}(),tf=0}}function ff(){var t=nf.now(),e=t-Jc;e>1e3&&(ef-=e,Jc=t)}function uf(t){Zc||(Qc&&(Qc=clearTimeout(Qc)),t-tf>24?(t<1/0&&(Qc=setTimeout(cf,t-nf.now()-ef)),Xc&&(Xc=clearInterval(Xc))):(Xc||(Jc=nf.now(),Xc=setInterval(ff,1e3)),Zc=1,rf(cf)))}sf.prototype=lf.prototype={constructor:sf,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?af():+n)+(null==e?0:+e),this._next||Yc===this||(Yc?Yc._next=this:Kc=this,Yc=this),this._call=t,this._time=n,uf()},stop:function(){this._call&&(this._call=null,this._time=1/0,uf())}};const hf=4294967296;var df=Math.PI*(3-Math.sqrt(5));function pf(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,l=lf(u),c=Fc("tick","end"),f=function(){let t=1;return()=>(t=(1664525*t+1013904223)%hf)/hf}();function u(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(r){var l,c,f=t.length;void 0===r&&(r=1);for(var u=0;u<r;++u)for(n+=(a-n)*i,s.forEach((function(t){t(n)})),l=0;l<f;++l)null==(c=t[l]).fx?c.x+=c.vx*=o:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=o:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(.5+n),a=n*df;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,f),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},randomSource:function(t){return arguments.length?(f=t,s.forEach(p),e):f},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,l,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(o=(i=e-(s=t[c]).x)*i+(a=n-s.y)*a)<r&&(l=s,r=o);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function gf(t,e,n){const r=t.slice();return r[29]=e[n],r}function vf(t,e,n){const r=t.slice();return r[29]=e[n],r}function mf(t,e,n){const r=t.slice();return r[34]=e[n],r}function bf(t){let e,n,r,i,a,o,s,l=(t[34]>100?t[14](t[34]):t[15](t[34]))+"";return{c(){e=m("g"),n=m("line"),i=m("text"),a=b(l),L(n,"y2",r=6),L(n,"class","svelte-1u20w0d"),L(i,"text-anchor","middle"),L(i,"dy",o=20),L(e,"class","tick svelte-1u20w0d"),L(e,"transform",s=`translate(${t[0](t[34])},0)`)},m(t,r){d(t,e,r),h(e,n),h(e,i),h(i,a)},p(t,n){4&n[0]&&l!==(l=(t[34]>100?t[14](t[34]):t[15](t[34]))+"")&&M(a,l),5&n[0]&&s!==(s=`translate(${t[0](t[34])},0)`)&&L(e,"transform",s)},d(t){t&&p(e)}}}function yf(t){let e,n,r,i,a;return{c(){e=m("circle"),L(e,"stroke-width",n=.5),L(e,"stroke-opacity",t[10]),L(e,"r",t[9]),L(e,"cx",r=t[29].x),L(e,"cy",i=t[29].y),L(e,"fill",a=t[1](t[29].x0)),L(e,"class","svelte-1u20w0d")},m(t,n){d(t,e,n)},p(t,n){1024&n[0]&&L(e,"stroke-opacity",t[10]),512&n[0]&&L(e,"r",t[9]),256&n[0]&&r!==(r=t[29].x)&&L(e,"cx",r),256&n[0]&&i!==(i=t[29].y)&&L(e,"cy",i),258&n[0]&&a!==(a=t[1](t[29].x0))&&L(e,"fill",a)},d(t){t&&p(e)}}}function wf(t){let e,n,r,i,a,o,s,l=(t[29]>100?t[14](t[29]):t[15](t[29]))+"";return{c(){e=m("g"),n=m("line"),i=m("text"),a=b(l),L(n,"y1",r=-12),L(n,"y2",t[7]),L(n,"class","svelte-1u20w0d"),L(i,"text-anchor","middle"),L(i,"dy",o=-20),L(i,"class","svelte-1u20w0d"),L(e,"transform",s=`translate(${t[0](t[29])},0)`)},m(t,r){d(t,e,r),h(e,n),h(e,i),h(i,a)},p(t,r){128&r[0]&&L(n,"y2",t[7]),12288&r[0]&&l!==(l=(t[29]>100?t[14](t[29]):t[15](t[29]))+"")&&M(a,l),12289&r[0]&&s!==(s=`translate(${t[0](t[29])},0)`)&&L(e,"transform",s)},d(t){t&&p(e)}}}function _f(t){let e,n,r;return{c(){e=m("circle"),L(e,"class","hover-circle svelte-1u20w0d"),L(e,"cx",n=t[3].x),L(e,"cy",r=t[3].y),L(e,"r",t[9])},m(t,n){d(t,e,n)},p(t,i){8&i[0]&&n!==(n=t[3].x)&&L(e,"cx",n),8&i[0]&&r!==(r=t[3].y)&&L(e,"cy",r),512&i[0]&&L(e,"r",t[9])},d(t){t&&p(e)}}}function xf(t){let e,n,r=(t[3].value>100?t[14](t[3].value):t[15](t[3].value))+"";return{c(){e=v("div"),n=b(r),L(e,"class","tooltip svelte-1u20w0d"),$(e,"left",t[3].mx+"px"),$(e,"top",t[3].my-10+"px")},m(t,r){d(t,e,r),h(e,n)},p(t,i){8&i[0]&&r!==(r=(t[3].value>100?t[14](t[3].value):t[15](t[3].value))+"")&&M(n,r),8&i[0]&&$(e,"left",t[3].mx+"px"),8&i[0]&&$(e,"top",t[3].my-10+"px")},d(t){t&&p(e)}}}function Lf(t){let e,n,i,a,o,s,l,c,f,u,w,x,$,k,W,E,S,A,N,C,R=t[11].column+"";z(t[19]);let T=t[2],j=[];for(let e=0;e<T.length;e+=1)j[e]=bf(mf(t,T,e));let q=t[8],P=[];for(let e=0;e<q.length;e+=1)P[e]=yf(vf(t,q,e));let O=t[12][t[13]],I=[];for(let e=0;e<O.length;e+=1)I[e]=wf(gf(t,O,e));x=new Ia({props:{x:t[0],height:t[7]}});let D=t[3]&&_f(t),U=t[3]&&xf(t);return{c(){e=v("div"),n=m("svg"),i=m("g"),a=m("g");for(let t=0;t<j.length;t+=1)j[t].c();o=m("text"),s=b(R),u=m("g");for(let t=0;t<P.length;t+=1)P[t].c();w=m("g");for(let t=0;t<I.length;t+=1)I[t].c();K(x.$$.fragment),D&&D.c(),$=m("rect"),S=y(),U&&U.c(),L(o,"class","column-name svelte-1u20w0d"),L(o,"x",l=t[6]/2),L(o,"dy",c=40),L(a,"class","x axis svelte-1u20w0d"),L(a,"transform",f=`translate(0,${t[7]})`),L(u,"class","circles svelte-1u20w0d"),L(w,"class","breaks svelte-1u20w0d"),L($,"fill","transparent"),L($,"width",t[6]),L($,"height",t[7]),L(i,"transform",k=`translate(${t[16].left},${t[16].top})`),L(n,"width",W=t[6]+t[16].right+t[16].left),L(n,"height",E=t[7]+t[16].top+t[16].bottom),L(e,"class","container svelte-1u20w0d")},m(r,l){d(r,e,l),h(e,n),h(n,i),h(i,a);for(let t=0;t<j.length;t+=1)j[t].m(a,null);h(a,o),h(o,s),h(i,u);for(let t=0;t<P.length;t+=1)P[t].m(u,null);h(i,w);for(let t=0;t<I.length;t+=1)I[t].m(w,null);Y(x,i,null),D&&D.m(i,null),h(i,$),h(e,S),U&&U.m(e,null),t[21](e),A=!0,N||(C=[_(window,"resize",t[17]),_(window,"resize",t[19]),_($,"mousemove",t[18]),_($,"mouseleave",t[20])],N=!0)},p(t,r){if(49157&r[0]){let e;for(T=t[2],e=0;e<T.length;e+=1){const n=mf(t,T,e);j[e]?j[e].p(n,r):(j[e]=bf(n),j[e].c(),j[e].m(a,o))}for(;e<j.length;e+=1)j[e].d(1);j.length=T.length}if((!A||2048&r[0])&&R!==(R=t[11].column+"")&&M(s,R),(!A||64&r[0]&&l!==(l=t[6]/2))&&L(o,"x",l),(!A||128&r[0]&&f!==(f=`translate(0,${t[7]})`))&&L(a,"transform",f),1794&r[0]){let e;for(q=t[8],e=0;e<q.length;e+=1){const n=vf(t,q,e);P[e]?P[e].p(n,r):(P[e]=yf(n),P[e].c(),P[e].m(u,null))}for(;e<P.length;e+=1)P[e].d(1);P.length=q.length}if(61569&r[0]){let e;for(O=t[12][t[13]],e=0;e<O.length;e+=1){const n=gf(t,O,e);I[e]?I[e].p(n,r):(I[e]=wf(n),I[e].c(),I[e].m(w,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=O.length}const c={};1&r[0]&&(c.x=t[0]),128&r[0]&&(c.height=t[7]),x.$set(c),t[3]?D?D.p(t,r):(D=_f(t),D.c(),D.m(i,$)):D&&(D.d(1),D=null),(!A||64&r[0])&&L($,"width",t[6]),(!A||128&r[0])&&L($,"height",t[7]),(!A||64&r[0]&&W!==(W=t[6]+t[16].right+t[16].left))&&L(n,"width",W),(!A||128&r[0]&&E!==(E=t[7]+t[16].top+t[16].bottom))&&L(n,"height",E),t[3]?U?U.p(t,r):(U=xf(t),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},i(t){A||(V(x.$$.fragment,t),A=!0)},o(t){G(x.$$.fragment,t),A=!1},d(n){n&&p(e),g(j,n),g(P,n),g(I,n),Z(x),D&&D.d(),U&&U.d(),t[21](null),N=!1,r(C)}}}function Mf(t,e,n){let r,i,a,s,l;o(t,Ie,(t=>n(11,r=t))),o(t,Qe,(t=>n(24,i=t))),o(t,Be,(t=>n(25,a=t))),o(t,Ke,(t=>n(12,s=t))),o(t,Fe,(t=>n(13,l=t)));const c=wn(",.0f"),f=wn(".2~f");let u,h,d,p,g,v,m,b,y,w,_,x,L;const M={top:35,right:20,bottom:50,left:20},$=Ji().range([0,60]),k=na().domain([100,500,1e3]),W=na().domain([1e3]);function E(){n(22,x=v<600);const t=g.getBoundingClientRect().width,e=x?.6:v<960?.35:.5;n(6,m=t-M.right-M.left),n(7,b=Math.min(t*e,400)-M.top-M.bottom),$.domain([0,m])}A((()=>{E()}));return t.$$.update=()=>{if(54528961&t.$$.dirty[0]&&r){k.range(x?[4,2,2]:[8,6,2]),W.range(x?[.5,.25]:[.75,.25]),n(8,y=r.data.slice().map((t=>({x0:t})))),n(9,w=i||k(y.length)),n(10,_=W(y.length)),Ze.set(k(y.length)),n(0,u=Ji().range([0,m]).domain(xi(y,(t=>t.x0)))),n(1,h=a);const t=pf(y).force("x",function(t){var e,n,r,i=Pc(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vx+=(r[a]-i.x)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Pc(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Pc(+t),o(),a):i},a.x=function(e){return arguments.length?(t="function"==typeof e?e:Pc(+e),o(),a):t},a}((t=>u(t.x0)))).force("y",function(t){var e,n,r,i=Pc(.1);function a(t){for(var i,a=0,o=e.length;a<o;++a)(i=e[a]).vy+=(r[a]-i.y)*n[a]*t}function o(){if(e){var a,o=e.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return"function"!=typeof t&&(t=Pc(null==t?0:+t)),a.initialize=function(t){e=t,o()},a.strength=function(t){return arguments.length?(i="function"==typeof t?t:Pc(+t),o(),a):i},a.y=function(e){return arguments.length?(t="function"==typeof e?e:Pc(+e),o(),a):t},a}(b/2)).force("collide",function(t){var e,n,r,i=1,a=1;function o(){for(var t,o,l,c,f,u,h,d=e.length,p=0;p<a;++p)for(o=Tc(e,Ic,Dc).visitAfter(s),t=0;t<d;++t)l=e[t],u=n[l.index],h=u*u,c=l.x+l.vx,f=l.y+l.vy,o.visit(g);function g(t,e,n,a,o){var s=t.data,d=t.r,p=u+d;if(!s)return e>c+p||a<c-p||n>f+p||o<f-p;if(s.index>l.index){var g=c-s.x-s.vx,v=f-s.y-s.vy,m=g*g+v*v;m<p*p&&(0===g&&(m+=(g=Oc(r))*g),0===v&&(m+=(v=Oc(r))*v),m=(p-(m=Math.sqrt(m)))/m*i,l.vx+=(g*=m)*(p=(d*=d)/(h+d)),l.vy+=(v*=m)*p,s.vx-=g*(p=1-p),s.vy-=v*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Pc(null==t?1:+t)),o.initialize=function(t,n){e=t,r=n,l()},o.iterations=function(t){return arguments.length?(a=+t,o):a},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:Pc(+e),l(),o):t},o}(w+.75)).stop();for(let e=0;e<120;e++)t.tick();L=Sc().x((t=>t.x)).y((t=>t.y))(y),n(2,d=u.ticks(6))}},[u,h,d,p,g,v,m,b,y,w,_,r,s,l,c,f,M,E,function(t){const[e,r]=qr(t),i=L.find(e,r,50);if(!i)return n(3,p=null);n(3,p={mx:e-$(e),my:r,x:i.data.x,y:i.data.y,value:i.data.x0})},function(){n(5,v=window.innerWidth)},()=>n(3,p=null),function(t){C[t?"unshift":"push"]((()=>{g=t,n(4,g)}))}]}class $f extends J{constructor(t){super(),X(this,t,Mf,Lf,a,{},[-1,-1])}}function kf(t,e,n){const r=t.slice();return r[3]=e[n],r}function Wf(t){let e,n,r,i,a,o,s=t[3]+"";function l(...e){return t[2](t[3],...e)}return{c(){e=v("button"),n=b(s),r=y(),L(e,"class",i=t[0]===t[3]?"active":"")},m(t,i){d(t,e,i),h(e,n),h(e,r),a||(o=_(e,"click",l),a=!0)},p(n,r){t=n,1&r&&i!==(i=t[0]===t[3]?"active":"")&&L(e,"class",i)},d(t){t&&p(e),a=!1,o()}}}function Ef(e){let n,r,i,a,o=e[1],s=[];for(let t=0;t<o.length;t+=1)s[t]=Wf(kf(e,o,t));return{c(){n=v("div"),r=v("div"),r.textContent="Histogram bins",i=y(),a=v("div");for(let t=0;t<s.length;t+=1)s[t].c();L(r,"class","histogram-bins-title svelte-sqqh3t"),L(a,"class","button-group"),L(n,"class","histogram-bins svelte-sqqh3t")},m(t,e){d(t,n,e),h(n,r),h(n,i),h(n,a);for(let t=0;t<s.length;t+=1)s[t].m(a,null)},p(t,[e]){if(3&e){let n;for(o=t[1],n=0;n<o.length;n+=1){const r=kf(t,o,n);s[n]?s[n].p(r,e):(s[n]=Wf(r),s[n].c(),s[n].m(a,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i:t,o:t,d(t){t&&p(n),g(s,t)}}}function Sf(t,e,n){let r;o(t,Ve,(t=>n(0,r=t)));return[r,[10,20,50,100],t=>u(Ve,r=t,r)]}class Af extends J{constructor(t){super(),X(this,t,Sf,Ef,a,{})}}function Nf(t,e,n){const r=t.slice();return r[4]=e[n],r}function Cf(t){let e,n,r,i,a,o=t[4]+"";function s(...e){return t[3](t[4],...e)}return{c(){e=v("button"),n=b(o),r=y(),W(e,"active",t[0]?t[0]===t[4]:t[1]===t[4])},m(t,o){d(t,e,o),h(e,n),h(e,r),i||(a=_(e,"click",s),i=!0)},p(n,r){t=n,7&r&&W(e,"active",t[0]?t[0]===t[4]:t[1]===t[4])},d(t){t&&p(e),i=!1,a()}}}function Rf(e){let n,r,i,a,o=e[2],s=[];for(let t=0;t<o.length;t+=1)s[t]=Cf(Nf(e,o,t));return{c(){n=v("div"),r=v("div"),r.textContent="Circle radius",i=y(),a=v("div");for(let t=0;t<s.length;t+=1)s[t].c();L(r,"class","beeswarm-radius-title svelte-1ktv77v"),L(a,"class","button-group"),L(n,"class","beeswarm-radius svelte-1ktv77v")},m(t,e){d(t,n,e),h(n,r),h(n,i),h(n,a);for(let t=0;t<s.length;t+=1)s[t].m(a,null)},p(t,[e]){if(7&e){let n;for(o=t[2],n=0;n<o.length;n+=1){const r=Nf(t,o,n);s[n]?s[n].p(r,e):(s[n]=Cf(r),s[n].c(),s[n].m(a,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i:t,o:t,d(t){t&&p(n),g(s,t)}}}function Tf(t,e,n){let r,i;o(t,Qe,(t=>n(0,r=t))),o(t,Ze,(t=>n(1,i=t)));return[r,i,[1,2,4,6,8],t=>u(Qe,r=t,r)]}class jf extends J{constructor(t){super(),X(this,t,Tf,Rf,a,{})}}var qf=it((function(t,e){!function(t){function e(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}function n(t){if(0===t.length)throw new Error("mean requires at least one data point");return e(t)/t.length}function r(t,e){var r,i,a=n(t),o=0;if(2===e)for(i=0;i<t.length;i++)o+=(r=t[i]-a)*r;else for(i=0;i<t.length;i++)o+=Math.pow(t[i]-a,e);return o}function i(t){if(0===t.length)throw new Error("variance requires at least one data point");return r(t,2)/t.length}function a(t){if(1===t.length)return 0;var e=i(t);return Math.sqrt(e)}function o(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],n=NaN,r=0,i=1,a=1;a<t.length+1;a++)t[a]!==e?(i>r&&(r=i,n=e),i=1,e=t[a]):i++;return n}function s(t){return t.slice().sort((function(t,e){return t-e}))}function l(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function c(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}function f(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function u(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function h(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,a=e-n+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(l*=-1),h(t,e,Math.max(n,Math.floor(e-a*s/i+l)),Math.min(r,Math.floor(e+(i-a)*s/i+l)))}var c=t[e],f=n,u=r;for(d(t,n,e),t[r]>c&&d(t,n,r);f<u;){for(d(t,f,u),f++,u--;t[f]<c;)f++;for(;t[u]>c;)u--}t[n]===c?d(t,n,u):d(t,++u,r),u<=e&&(n=u+1),e<=u&&(r=u-1)}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function p(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(m(t.length,e[r]));n.push(t.length-1),n.sort(v);for(var i=[0,n.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);g(t,n[s],Math.floor(n[o]),Math.ceil(n[a])),i.push(o,s,s,a)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=u(n,e[i]);return r}return g(n,m(n.length,e),0,n.length-1),u(n,e)}function g(t,e,n,r){e%1==0?h(t,e,n,r):(h(t,e=Math.floor(e),n,r),h(t,e+1,e+1,r))}function v(t,e){return t-e}function m(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}function b(t,e){if(e<t[0])return 0;if(e>t[t.length-1])return 1;var n=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e<=t[n=r+i>>>1]?i=n:r=-~n;return r}(t,e);if(t[n]!==e)return n/t.length;n++;var r=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e>=t[n=r+i>>>1]?r=-~n:i=n;return r}(t,e);if(r===n)return n/t.length;var i=r-n+1;return i*(r+n)/2/i/t.length}function y(t){var e=p(t,.75),n=p(t,.25);if("number"==typeof e&&"number"==typeof n)return e-n}function w(t){return+p(t,.5)}function _(t){for(var e=w(t),n=[],r=0;r<t.length;r++)n.push(Math.abs(t[r]-e));return w(n)}function x(t,e){e=e||Math.random;for(var n,r,i=t.length;i>0;)r=Math.floor(e()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function L(t,e){return x(t.slice().slice(),e)}function M(t,e,n){return L(t,n).slice(0,e)}function $(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],a=0;a<e;a++)i.push(0);n.push(i)}return n}function k(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}function W(t,e,n,r){var i;if(t>0){var a=(n[e]-n[t-1])/(e-t+1);i=r[e]-r[t-1]-(e-t+1)*a*a}else i=r[e]-n[e]*n[e]/(e+1);return i<0?0:i}function E(t,e,n,r,i,a,o){if(!(t>e)){var s=Math.floor((t+e)/2);r[n][s]=r[n-1][s-1],i[n][s]=s;var l=n;t>n&&(l=Math.max(l,i[n][t-1]||0)),l=Math.max(l,i[n-1][s]||0);var c,f,u,h=s-1;e<r.length-1&&(h=Math.min(h,i[n][e+1]||0));for(var d=h;d>=l&&!((c=W(d,s,a,o))+r[n-1][l-1]>=r[n][s]);--d)(f=W(l,s,a,o)+r[n-1][l-1])<r[n][s]&&(r[n][s]=f,i[n][s]=l),l++,(u=c+r[n-1][d-1])<r[n][s]&&(r[n][s]=u,i[n][s]=d);E(t,s-1,n,r,i,a,o),E(s+1,e,n,r,i,a,o)}}function S(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=n(t),i=n(e),a=0,o=0;o<t.length;o++)a+=(t[o]-r)*(e[o]-i);return a/(t.length-1)}function A(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return r(t,2)/(t.length-1)}function N(t){var e=A(t);return Math.sqrt(e)}function C(t,e,n,r){return(t*e+n*r)/(e+r)}function R(t){if(0===t.length)throw new Error("meanSimple requires at least one data point");return f(t)/t.length}function T(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}var j=function(){this.totalCount=0,this.data={}};j.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},j.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},this.data[e][r]?n[e][r+"_"+i]=(this.data[e][r][i]||0)/this.totalCount:n[e][r+"_"+i]=0}var a={};for(e in n)for(var o in a[e]=0,n[e])a[e]+=n[e][o];return a};var q=function(){this.weights=[],this.bias=0};q.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return(e+=this.bias)>0?1:0},q.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if("number"==typeof n&&n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};var z=1e-4;function P(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,n=2;n<=t;n++)e*=n;return e}var O=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],I=Math.log(Math.sqrt(2*Math.PI)),D={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},U=Math.sqrt(2*Math.PI),F={gaussian:function(t){return Math.exp(-.5*t*t)/U}},B={nrd:function(t){var e=N(t),n=y(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}};function H(t,e,n){var r,i;if(void 0===e)r=F.gaussian;else if("string"==typeof e){if(!F[e])throw new Error('Unknown kernel "'+e+'"');r=F[e]}else r=e;if(void 0===n)i=B.nrd(t);else if("string"==typeof n){if(!B[n])throw new Error('Unknown bandwidth method "'+n+'"');i=B[n](t)}else i=n;return function(e){var n=0,a=0;for(n=0;n<t.length;n++)a+=r((e-t[n])/i);return a/i/t.length}}var V=Math.sqrt(2*Math.PI);function G(t){for(var e=t,n=t,r=1;r<15;r++)e+=n*=t*t/(2*r+1);return Math.round(1e4*(.5+e/V*Math.exp(-t*t/2)))/1e4}for(var K=[],Y=0;Y<=3.09;Y+=.01)K.push(G(Y));function Z(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-t*t+((((((((.17087277*e-.82215223)*e+1.48851587)*e-1.13520398)*e+.27886807)*e-.18628806)*e+.09678418)*e+.37409196)*e+1.00002368)*e-1.26551223);return t>=0?1-n:n-1}function Q(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?n:-n}function X(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}function J(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)}function tt(t,e){return t.map((function(t){for(var n=Number.MAX_VALUE,r=-1,i=0;i<e.length;i++){var a=J(t,e[i]);a<n&&(n=a,r=i)}return r}))}function et(t,e,n){for(var r=t[0].length,i=$(n,r),a=Array(n).fill(0),o=t.length,s=0;s<o;s++){for(var l=t[s],c=e[s],f=i[c],u=0;u<r;u++)f[u]+=l[u];a[c]+=1}for(var h=0;h<n;h++){if(0===a[h])throw new Error("Centroid "+h+" has no friends");for(var d=i[h],p=0;p<r;p++)d[p]/=a[h]}return i}function nt(t,e){for(var n=0,r=0;r<t.length;r++)n+=J(t[r],e[r]);return n}function rt(t,e){if(t.length!==e.length)throw new Error("must have exactly as many labels as points");for(var n=function(t){for(var e=1+c(t),n=Array(e),r=0;r<t.length;r++){var i=t[r];void 0===n[i]&&(n[i]=[]),n[i].push(r)}return n}(e),r=function(t){for(var e=t.length,n=$(e,e),r=0;r<e;r++)for(var i=0;i<r;i++)n[r][i]=J(t[r],t[i]),n[i][r]=n[r][i];return n}(t),i=[],a=0;a<t.length;a++){var o=0;if(n[e[a]].length>1){var s=at(a,n[e[a]],r),l=it(a,e,n,r);o=(l-s)/Math.max(s,l)}i.push(o)}return i}function it(t,e,n,r){for(var i=e[t],a=Number.MAX_VALUE,o=0;o<n.length;o++)if(o!==i){var s=at(t,n[o],r);s<a&&(a=s)}return a}function at(t,e,n){for(var r=0,i=0;i<e.length;i++)r+=n[t][e[i]];return r/e.length}function ot(t,e){return 0===t&&0===e?0:Math.abs((t-e)/e)}t.BayesianClassifier=j,t.PerceptronModel=q,t.addToMean=function(t,e,n){return t+(n-t)/(e+1)},t.approxEqual=function(t,e,n){return void 0===n&&(n=z),ot(t,e)<=n},t.average=n,t.averageSimple=R,t.bayesian=j,t.bernoulliDistribution=function(t){if(t<0||t>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]},t.binomialDistribution=function(t,e){if(!(e<0||e>1||t<=0||t%1!=0)){var n=0,r=0,i=[],a=1;do{i[n]=a*Math.pow(e,n)*Math.pow(1-e,t-n),r+=i[n],a=a*(t-++n+1)/n}while(r<.9999);return i}},t.bisect=function(t,e,n,r,i){if("function"!=typeof t)throw new TypeError("func must be a function");for(var a=0;a<r;a++){var o=(e+n)/2;if(0===t(o)||Math.abs((n-e)/2)<i)return o;X(t(o))===X(t(e))?e=o:n=o}throw new Error("maximum number of iterations exceeded")},t.chiSquaredDistributionTable=D,t.chiSquaredGoodnessOfFit=function(t,e,r){for(var i=0,a=e(n(t)),o=[],s=[],l=0;l<t.length;l++)void 0===o[t[l]]&&(o[t[l]]=0),o[t[l]]++;for(var c=0;c<o.length;c++)void 0===o[c]&&(o[c]=0);for(var f in a)f in o&&(s[+f]=a[f]*t.length);for(var u=s.length-1;u>=0;u--)s[u]<3&&(s[u-1]+=s[u],s.pop(),o[u-1]+=o[u],o.pop());for(var h=0;h<o.length;h++)i+=Math.pow(o[h]-s[h],2)/s[h];var d=o.length-1-1;return D[d][r]<i},t.chunk=function(t,e){var n=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n},t.ckmeans=function(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var n=s(t);if(1===k(n))return[n];var r=$(e,n.length),i=$(e,n.length);!function(t,e,n){for(var r=e[0].length,i=t[Math.floor(r/2)],a=[],o=[],s=0,l=void 0;s<r;++s)l=t[s]-i,0===s?(a.push(l),o.push(l*l)):(a.push(a[s-1]+l),o.push(o[s-1]+l*l)),e[0][s]=W(0,s,a,o),n[0][s]=0;for(var c=1;c<e.length;++c)E(c<e.length-1?c:r-1,r-1,c,e,n,a,o)}(n,r,i);for(var a=[],o=i[0].length-1,l=i.length-1;l>=0;l--){var c=i[l][o];a[l]=n.slice(c,o+1),l>0&&(o=c-1)}return a},t.combinations=function t(e,n){var r,i,a,o,s=[];for(r=0;r<e.length;r++)if(1===n)s.push([e[r]]);else for(a=t(e.slice(r+1,e.length),n-1),i=0;i<a.length;i++)(o=a[i]).unshift(e[r]),s.push(o);return s},t.combinationsReplacement=function t(e,n){for(var r=[],i=0;i<e.length;i++)if(1===n)r.push([e[i]]);else for(var a=t(e.slice(i,e.length),n-1),o=0;o<a.length;o++)r.push([e[i]].concat(a[o]));return r},t.combineMeans=C,t.combineVariances=function(t,e,n,r,i,a){var o=C(e,n,i,a);return(n*(t+Math.pow(e-o,2))+a*(r+Math.pow(i-o,2)))/(n+a)},t.cumulativeStdNormalProbability=function(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),K.length-1);return t>=0?K[n]:+(1-K[n]).toFixed(4)},t.epsilon=z,t.equalIntervalBreaks=function(t,e){if(t.length<2)return t;for(var n=l(t),r=c(t),i=[n],a=(r-n)/e,o=1;o<e;o++)i.push(i[0]+a*o);return i.push(r),i},t.erf=Z,t.errorFunction=Z,t.extent=function(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var e=t[0],n=t[0],r=1;r<t.length;r++)t[r]>n&&(n=t[r]),t[r]<e&&(e=t[r]);return[e,n]},t.extentSorted=function(t){return[t[0],t[t.length-1]]},t.factorial=P,t.gamma=function t(e){if(Number.isInteger(e))return e<=0?NaN:P(e-1);if(--e<0)return Math.PI/(Math.sin(Math.PI*-e)*t(-e));var n=e+1/4;return Math.pow(e/Math.E,e)*Math.sqrt(2*Math.PI*(e+1/6))*(1+1/144/Math.pow(n,2)-1/12960/Math.pow(n,3)-257/207360/Math.pow(n,4)-52/2612736/Math.pow(n,5)+5741173/9405849600/Math.pow(n,6)+37529/18811699200/Math.pow(n,7))},t.gammaln=function(t){if(t<=0)return 1/0;t--;for(var e=O[0],n=1;n<15;n++)e+=O[n]/(t+n);var r=5.2421875+t;return I+Math.log(e)-r+(t+.5)*Math.log(r)},t.geometricMean=function(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("geometricMean requires only positive numbers as input");e*=t[n]}return Math.pow(e,1/t.length)},t.harmonicMean=function(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[n]}return t.length/e},t.interquartileRange=y,t.inverseErrorFunction=Q,t.iqr=y,t.kMeansCluster=function(t,e,n){void 0===n&&(n=Math.random);for(var r=null,i=M(t,e,n),a=null,o=Number.MAX_VALUE;0!==o;)r=i,o=nt(i=et(t,a=tt(t,i),e),r);return{labels:a,centroids:i}},t.kde=H,t.kernelDensityEstimation=H,t.linearRegression=function(t){var e,n,r=t.length;if(1===r)e=0,n=t[0][1];else{for(var i,a,o,s=0,l=0,c=0,f=0,u=0;u<r;u++)s+=a=(i=t[u])[0],l+=o=i[1],c+=a*a,f+=a*o;n=l/r-(e=(r*f-s*l)/(r*c-s*s))*s/r}return{m:e,b:n}},t.linearRegressionLine=function(t){return function(e){return t.b+t.m*e}},t.mad=_,t.max=c,t.maxSorted=function(t){return t[t.length-1]},t.mean=n,t.meanSimple=R,t.median=w,t.medianAbsoluteDeviation=_,t.medianSorted=function(t){return u(t,.5)},t.min=l,t.minSorted=function(t){return t[0]},t.mode=function(t){return o(s(t))},t.modeFast=function(t){for(var e,n=new Map,r=0,i=0;i<t.length;i++){var a=n.get(t[i]);void 0===a?a=1:a++,a>r&&(e=t[i],r=a),n.set(t[i],a)}if(0===r)throw new Error("mode requires at last one data point");return e},t.modeSorted=o,t.numericSort=s,t.perceptron=q,t.permutationTest=function(t,e,r,i,a){if(void 0===i&&(i=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var o=n(t)-n(e),s=new Array(i),l=t.concat(e),c=Math.floor(l.length/2),f=0;f<i;f++){x(l,a);var u=l.slice(0,c),h=l.slice(c,l.length),d=n(u)-n(h);s[f]=d}var p=0;if("two_side"===r)for(var g=0;g<=i;g++)Math.abs(s[g])>=Math.abs(o)&&(p+=1);else if("greater"===r)for(var v=0;v<=i;v++)s[v]>=o&&(p+=1);else for(var m=0;m<=i;m++)s[m]<=o&&(p+=1);return p/i},t.permutationsHeap=function(t){for(var e=new Array(t.length),n=[t.slice()],r=0;r<t.length;r++)e[r]=0;for(var i=0;i<t.length;)if(e[i]<i){var a=0;i%2!=0&&(a=e[i]);var o=t[a];t[a]=t[i],t[i]=o,n.push(t.slice()),e[i]++,i=0}else e[i]=0,i++;return n},t.poissonDistribution=function(t){if(!(t<=0)){var e=0,n=0,r=[],i=1;do{r[e]=Math.exp(-t)*Math.pow(t,e)/i,n+=r[e],i*=++e}while(n<.9999);return r}},t.probit=function(t){return 0===t?t=z:t>=1&&(t=.9999),Math.sqrt(2)*Q(2*t-1)},t.product=function(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e},t.quantile=p,t.quantileRank=function(t,e){return b(s(t),e)},t.quantileRankSorted=b,t.quantileSorted=u,t.quickselect=h,t.rSquared=function(t,e){if(t.length<2)return 1;for(var n=0,r=0;r<t.length;r++)n+=t[r][1];for(var i=n/t.length,a=0,o=0;o<t.length;o++)a+=Math.pow(i-t[o][1],2);for(var s=0,l=0;l<t.length;l++)s+=Math.pow(t[l][1]-e(t[l][0]),2);return 1-s/a},t.relativeError=ot,t.rms=T,t.rootMeanSquare=T,t.sample=M,t.sampleCorrelation=function(t,e){return S(t,e)/N(t)/N(e)},t.sampleCovariance=S,t.sampleKurtosis=function(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,i=n(t),a=0,o=0,s=0;s<e;s++)a+=(r=t[s]-i)*r,o+=r*r*r*r;return(e-1)/((e-2)*(e-3))*(e*(e+1)*o/(a*a)-3*(e-1))},t.sampleSkewness=function(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,r=n(t),i=0,a=0,o=0;o<t.length;o++)i+=(e=t[o]-r)*e,a+=e*e*e;var s=t.length-1,l=Math.sqrt(i/s),c=t.length;return c*a/((c-1)*(c-2)*Math.pow(l,3))},t.sampleStandardDeviation=N,t.sampleVariance=A,t.sampleWithReplacement=function(t,e,n){if(0===t.length)return[];n=n||Math.random;for(var r=t.length,i=[],a=0;a<e;a++){var o=Math.floor(n()*r);i.push(t[o])}return i},t.shuffle=L,t.shuffleInPlace=x,t.sign=X,t.silhouette=rt,t.silhouetteMetric=function(t,e){return c(rt(t,e))},t.standardDeviation=a,t.standardNormalTable=K,t.subtractFromMean=function(t,e,n){return(t*e-n)/(e-1)},t.sum=e,t.sumNthPowerDeviations=r,t.sumSimple=f,t.tTest=function(t,e){return(n(t)-e)/(a(t)/Math.sqrt(t.length))},t.tTestTwoSample=function(t,e,r){var i=t.length,a=e.length;if(!i||!a)return null;r||(r=0);var o=n(t),s=n(e),l=A(t),c=A(e);if("number"==typeof o&&"number"==typeof s&&"number"==typeof l&&"number"==typeof c){var f=((i-1)*l+(a-1)*c)/(i+a-2);return(o-s-r)/Math.sqrt(f*(1/i+1/a))}},t.uniqueCountSorted=k,t.variance=i,t.zScore=function(t,e,n){return(t-e)/n},Object.defineProperty(t,"__esModule",{value:!0})}(e)}));function zf(t,e){const n={},r=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}(0,t+1),i=ta().range(r).domain(e).quantiles(),a=ea().range(r).domain(xi(e)).thresholds(),o=ea().range(r).domain(xi(e)).nice().thresholds(),s=qf.ckmeans(e,t+1),l=Pi(e,.5,c);var c;const f=function(t,e){let n=0,r=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(++n,r+=e);else{let i=-1;for(let a of t)null!=(a=e(a,++i,t))&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}(e),u=qf.mode(e),h=function(t,e){const n=function(t,e){let n,r=0,i=0,a=0;if(void 0===e)for(let e of t)null!=e&&(e=+e)>=e&&(n=e-i,i+=n/++r,a+=n*(e-i));else{let o=-1;for(let s of t)null!=(s=e(s,++o,t))&&(s=+s)>=s&&(n=s-i,i+=n/++r,a+=n*(s-i))}if(r>1)return a/(r-1)}(t,e);return n?Math.sqrt(n):n}(e);return n.ckmeans=s.map((t=>t[0])).slice(1),n.quantiles=i,n.quantize=a,n["quantize (nice)"]=o,n.statistics=[{label:"median",value:l},{label:"mean",value:f},{label:"mode",value:u}],n.standardDeviation=h,n}function Pf(t,e,n){const r=t.slice();return r[10]=e[n],r}function Of(t){let e;return{c(){e=b("Visualise the distribution and choose your breaks")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function If(t){let e,n,r,i,a,o,s,l,c,f,u,m,b,w,_,x,M,$;r=new ua({}),a=new ya({}),s=new Sa({}),f=new ja({});var k=t[0].component;k&&(m=new k({}));let W=t[2],E=[];for(let e=0;e<W.length;e+=1)E[e]=Df(Pf(t,W,e));var S=t[0].settings;return S&&(M=new S({})),{c(){e=v("div"),n=v("div"),K(r.$$.fragment),i=y(),K(a.$$.fragment),o=y(),K(s.$$.fragment),l=y(),c=v("div"),K(f.$$.fragment),u=y(),m&&K(m.$$.fragment),b=y(),w=v("div"),_=v("div");for(let t=0;t<E.length;t+=1)E[t].c();x=y(),M&&K(M.$$.fragment),L(n,"class","settings svelte-1jhwdr2"),L(_,"class","chart-selector button-group svelte-1jhwdr2"),L(w,"class","chart-settings svelte-1jhwdr2"),L(c,"class","chart svelte-1jhwdr2"),L(e,"class","preview svelte-1jhwdr2")},m(t,p){d(t,e,p),h(e,n),Y(r,n,null),h(n,i),Y(a,n,null),h(n,o),Y(s,n,null),h(e,l),h(e,c),Y(f,c,null),h(c,u),m&&Y(m,c,null),h(c,b),h(c,w),h(w,_);for(let t=0;t<E.length;t+=1)E[t].m(_,null);h(w,x),M&&Y(M,w,null),$=!0},p(t,e){if(k!==(k=t[0].component)){if(m){B();const t=m;G(t.$$.fragment,1,0,(()=>{Z(t,1)})),H()}k?(m=new k({}),K(m.$$.fragment),V(m.$$.fragment,1),Y(m,c,b)):m=null}if(5&e){let n;for(W=t[2],n=0;n<W.length;n+=1){const r=Pf(t,W,n);E[n]?E[n].p(r,e):(E[n]=Df(r),E[n].c(),E[n].m(_,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=W.length}if(S!==(S=t[0].settings)){if(M){B();const t=M;G(t.$$.fragment,1,0,(()=>{Z(t,1)})),H()}S?(M=new S({}),K(M.$$.fragment),V(M.$$.fragment,1),Y(M,w,null)):M=null}},i(t){$||(V(r.$$.fragment,t),V(a.$$.fragment,t),V(s.$$.fragment,t),V(f.$$.fragment,t),m&&V(m.$$.fragment,t),M&&V(M.$$.fragment,t),$=!0)},o(t){G(r.$$.fragment,t),G(a.$$.fragment,t),G(s.$$.fragment,t),G(f.$$.fragment,t),m&&G(m.$$.fragment,t),M&&G(M.$$.fragment,t),$=!1},d(t){t&&p(e),Z(r),Z(a),Z(s),Z(f),m&&Z(m),g(E,t),M&&Z(M)}}}function Df(t){let e,n,r,i,a=t[10].name+"";function o(...e){return t[3](t[10],...e)}return{c(){e=v("button"),n=b(a),W(e,"active",t[0].name===t[10].name)},m(t,a){d(t,e,a),h(e,n),r||(i=_(e,"click",o),r=!0)},p(n,r){t=n,5&r&&W(e,"active",t[0].name===t[10].name)},d(t){t&&p(e),r=!1,i()}}}function Uf(t){let e,n,r,i;n=new nt({props:{enabled:t[1],step:3,$$slots:{default:[Of]},$$scope:{ctx:t}}});let a=t[1]&&If(t);return{c(){e=v("section"),K(n.$$.fragment),r=y(),a&&a.c(),L(e,"id","visualise")},m(t,o){d(t,e,o),Y(n,e,null),h(e,r),a&&a.m(e,null),i=!0},p(t,[r]){const i={};2&r&&(i.enabled=t[1]),8192&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),t[1]?a?(a.p(t,r),2&r&&V(a,1)):(a=If(t),a.c(),V(a,1),a.m(e,null)):a&&(B(),G(a,1,1,(()=>{a=null})),H())},i(t){i||(V(n.$$.fragment,t),V(a),i=!0)},o(t){G(n.$$.fragment,t),G(a),i=!1},d(t){t&&p(e),Z(n),a&&a.d()}}}function Ff(t,e,n){let r,i,a,s,l,c,f;o(t,Xe,(t=>n(4,r=t))),o(t,Ie,(t=>n(1,i=t))),o(t,He,(t=>n(5,a=t))),o(t,Ke,(t=>n(6,s=t))),o(t,Fe,(t=>n(7,l=t))),o(t,Ue,(t=>n(8,c=t))),o(t,De,(t=>n(9,f=t))),A((async function(){const t=await fetch(`geo/${r}.json`),e=await t.json();Je.set(e)}));const u=[{name:"Histogram",component:to,settings:Af},{name:"Map",component:Bl},{name:"Beeswarm",component:$f,settings:jf}];let h=u[0];return t.$$.update=()=>{994&t.$$.dirty&&i&&(Ke.set(zf(a,i.data)),De.set({breaks:s[l],colour:c.scheme[a+1]}),Be.set(na().range(f.colour).domain(s[l])))},[h,i,u,t=>n(0,h=t)]}class Bf extends J{constructor(t){super(),X(this,t,Ff,Uf,a,{})}}function Hf(e){let n,r,i,a,o,s;return{c(){n=v("pre"),r=v("code"),i=b(e[0]),a=v("div"),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="16" viewBox="0 0 24 24" width="16"><path d="M0 0h24v24H0z" fill="none"></path><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg>',L(a,"title","Copy"),L(a,"class","svelte-1af1fgz"),L(n,"class","svelte-1af1fgz")},m(t,l){d(t,n,l),h(n,r),h(r,i),e[3](r),h(n,a),o||(s=_(a,"click",e[2]),o=!0)},p(t,[e]){1&e&&M(i,t[0])},i:t,o:t,d(t){t&&p(n),e[3](null),o=!1,s()}}}function Vf(t,e,n){let r,{code:i}=e;return t.$$set=t=>{"code"in t&&n(0,i=t.code)},[i,r,function(){navigator.clipboard&&navigator.clipboard.writeText(i)},function(t){C[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class Gf extends J{constructor(t){super(),X(this,t,Vf,Hf,a,{code:0})}}function Kf(t){let e;return{c(){e=b("Export the scale")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function Yf(t){let e,n,r,i,a,o,s,l,c;return n=new Gf({props:{code:t[0].join(", ")}}),i=new Gf({props:{code:`[${t[0].join(", ")}]`}}),o=new Gf({props:{code:t[0].join("\n")}}),l=new Gf({props:{code:`import { scaleThreshold } from 'd3-scale';\n\nscaleThreshold()\n  .range(['${t[1].colour.join("', '")}'])\n  .domain([${t[0].join(", ")}]);`}}),{c(){e=v("div"),K(n.$$.fragment),r=y(),K(i.$$.fragment),a=y(),K(o.$$.fragment),s=y(),K(l.$$.fragment),L(e,"class","preview svelte-zn1da5")},m(t,f){d(t,e,f),Y(n,e,null),h(e,r),Y(i,e,null),h(e,a),Y(o,e,null),h(e,s),Y(l,e,null),c=!0},p(t,e){const r={};1&e&&(r.code=t[0].join(", ")),n.$set(r);const a={};1&e&&(a.code=`[${t[0].join(", ")}]`),i.$set(a);const s={};1&e&&(s.code=t[0].join("\n")),o.$set(s);const c={};3&e&&(c.code=`import { scaleThreshold } from 'd3-scale';\n\nscaleThreshold()\n  .range(['${t[1].colour.join("', '")}'])\n  .domain([${t[0].join(", ")}]);`),l.$set(c)},i(t){c||(V(n.$$.fragment,t),V(i.$$.fragment,t),V(o.$$.fragment,t),V(l.$$.fragment,t),c=!0)},o(t){G(n.$$.fragment,t),G(i.$$.fragment,t),G(o.$$.fragment,t),G(l.$$.fragment,t),c=!1},d(t){t&&p(e),Z(n),Z(i),Z(o),Z(l)}}}function Zf(t){let e,n,r,i;n=new nt({props:{enabled:t[1],step:4,$$slots:{default:[Kf]},$$scope:{ctx:t}}});let a=t[1]&&Yf(t);return{c(){e=v("section"),K(n.$$.fragment),r=y(),a&&a.c(),L(e,"id","export")},m(t,o){d(t,e,o),Y(n,e,null),h(e,r),a&&a.m(e,null),i=!0},p(t,[r]){const i={};2&r&&(i.enabled=t[1]),16&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),t[1]?a?(a.p(t,r),2&r&&V(a,1)):(a=Yf(t),a.c(),V(a,1),a.m(e,null)):a&&(B(),G(a,1,1,(()=>{a=null})),H())},i(t){i||(V(n.$$.fragment,t),V(a),i=!0)},o(t){G(n.$$.fragment,t),G(a),i=!1},d(t){t&&p(e),Z(n),a&&a.d()}}}function Qf(t,e,n){let r;o(t,De,(t=>n(1,r=t)));const i=wn(".0f"),a=wn(".2~f");let s;return t.$$.update=()=>{2&t.$$.dirty&&r&&n(0,s=r.breaks.map((t=>t>100?i(t):a(t))))},[s,r]}class Xf extends J{constructor(t){super(),X(this,t,Qf,Zf,a,{})}}function Jf(e){let n;return{c(){n=v("footer"),n.innerHTML='<p class="svelte-1spx9ve"><a href="https://github.com/martgnz/mr-scale-maker">Fork on GitHub</a>.</p> \n  <p class="svelte-1spx9ve">Want to dig deeper? Read\n    <a href="https://observablehq.com/@d3/quantile-quantize-and-threshold-scales">Quantile, Quantize and Threshold scales</a>,\n    <a href="https://roadtolarissa.com/coloring-maps/">Coloring Maps</a>\n    and\n    <a href="https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/08/05/subtleties-of-color-part-1-of-6/">Subtleties of Color</a>.</p>',L(n,"class","svelte-1spx9ve")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}class tu extends J{constructor(t){super(),X(this,t,null,Jf,a,{})}}function eu(e){let n,r,i,a,o,s,l,c,f,u;return n=new cn({}),i=new mi({}),o=new Bf({}),l=new Xf({}),f=new tu({}),{c(){K(n.$$.fragment),r=y(),K(i.$$.fragment),a=y(),K(o.$$.fragment),s=y(),K(l.$$.fragment),c=y(),K(f.$$.fragment)},m(t,e){Y(n,t,e),d(t,r,e),Y(i,t,e),d(t,a,e),Y(o,t,e),d(t,s,e),Y(l,t,e),d(t,c,e),Y(f,t,e),u=!0},p:t,i(t){u||(V(n.$$.fragment,t),V(i.$$.fragment,t),V(o.$$.fragment,t),V(l.$$.fragment,t),V(f.$$.fragment,t),u=!0)},o(t){G(n.$$.fragment,t),G(i.$$.fragment,t),G(o.$$.fragment,t),G(l.$$.fragment,t),G(f.$$.fragment,t),u=!1},d(t){Z(n,t),t&&p(r),Z(i,t),t&&p(a),Z(o,t),t&&p(s),Z(l,t),t&&p(c),Z(f,t)}}}return new class extends J{constructor(t){super(),X(this,t,null,eu,a,{})}}({target:document.querySelector("#app")})}();
//# sourceMappingURL=bundle.js.map
